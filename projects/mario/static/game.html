<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Super Mario - Quantum</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { overflow: hidden; background: #111; display: flex; justify-content: center; align-items: center; width: 100vw; height: 100vh; }
    canvas { display: block; }
    .qg-hud { position: absolute; pointer-events: none; padding: 8px; font-family: sans-serif; z-index: 10; }
    .qg-hud-top-left { top: 0; left: 0; }
    .qg-hud-top-right { top: 0; right: 0; }
    .qg-hud-top-center { top: 0; left: 50%; transform: translateX(-50%); }
    .qg-hud-bottom-left { bottom: 0; left: 0; }
    .qg-hud-bottom-right { bottom: 0; right: 0; }
    .qg-hud-bottom-center { bottom: 0; left: 50%; transform: translateX(-50%); }
    .qg-hud-center { top: 50%; left: 50%; transform: translate(-50%, -50%); }

    /* Source Code Viewer */
    #qg-source-btn {
      position: fixed;
      bottom: 16px;
      right: 16px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-family: monospace;
      font-size: 12px;
      transition: all 0.2s;
    }
    #qg-source-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      color: rgba(255, 255, 255, 0.9);
    }
    #qg-source-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.92);
      z-index: 999;
      overflow: auto;
    }
    #qg-source-modal.visible {
      display: flex;
      flex-direction: column;
    }
    #qg-source-close {
      position: fixed;
      top: 16px;
      right: 16px;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-family: monospace;
      font-size: 13px;
      z-index: 1001;
    }
    #qg-source-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    #qg-source-content {
      flex: 1;
      overflow: auto;
      padding: 48px 24px 24px;
    }
    #qg-source-content pre {
      background: #1e1e2e;
      color: #cdd6f4;
      padding: 24px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', monospace;
      font-size: 14px;
      line-height: 1.7;
      overflow-x: auto;
      white-space: pre;
      tab-size: 2;
      border: 1px solid #313244;
      max-width: 900px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <div class="qg-hud qg-hud-top-left" id="qg-hud-0"><text style="font-size:14px; color:#fff; font-family:monospace; text-shadow:1px 1px #000; padding:8px;">
        MARIO  {score}
      </text></div>
  <div class="qg-hud qg-hud-top-center" id="qg-hud-1"><text style="font-size:14px; color:#ffd700; font-family:monospace; text-shadow:1px 1px #000;">
        x{coins}
      </text></div>
  <div class="qg-hud qg-hud-top-right" id="qg-hud-2"><text style="font-size:14px; color:#fff; font-family:monospace; text-shadow:1px 1px #000; padding:8px;">
        WORLD 1-1  LIVES:{lives}
      </text></div>
  <div class="qg-hud qg-hud-center" id="qg-hud-3"><text style="font-size:36px; color:#fff; font-family:monospace; text-shadow:3px 3px #000;">
        {gameOver ? 'GAME OVER' : (won ? 'STAGE CLEAR!' : '')}
      </text></div>
  <button id="qg-source-btn" onclick="toggleSource()">source</button>
  <div id="qg-source-modal">
    <button id="qg-source-close" onclick="toggleSource()">ESC</button>
    <div id="qg-source-content">
      <pre id="qg-source-code">&lt;q:application id=&quot;mario&quot; type=&quot;game&quot; engine=&quot;2d&quot;&gt;

  &lt;!-- === BEHAVIORS === --&gt;

  &lt;qg:behavior name=&quot;MarioBehavior&quot;&gt;
    &lt;q:function name=&quot;onEnemyHit&quot;&gt;
      var other = this._other;
      var myBody = this.owner.body;
      var enemyBody = other ? other.body : null;
      var stomped = false;
      if (myBody &amp;amp;&amp;amp; enemyBody) {
        /* Stomp: Mario&#x27;s bottom must be above enemy&#x27;s vertical center */
        var marioBottom = myBody.position.y + 16;
        var enemyCenter = enemyBody.position.y;
        stomped = (marioBottom &amp;lt; enemyCenter + 4) &amp;amp;&amp;amp; (myBody.velocity.y &amp;gt; 0);
      }
      if (stomped) {
        Matter.Body.setVelocity(myBody, {x: myBody.velocity.x, y: -8});
        game.destroy(other);
        score += 100;
        _updateHUD();
      } else {
        lives--;
        if (lives &amp;lt;= 0) {
          gameOver = true;
          _updateHUD();
        } else {
          game.respawn(&quot;mario&quot;, 40, 400);
          _updateHUD();
        }
      }
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onCoinGet&quot;&gt;
      var other = this._other;
      coins++;
      score += 200;
      game.destroy(other);
      game.play(&#x27;coin_sfx&#x27;);
      _updateHUD();
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onBlockHit&quot;&gt;
      var other = this._other;
      var myBody = this.owner.body;
      if (myBody &amp;amp;&amp;amp; other &amp;amp;&amp;amp; other.body) {
        var myY = myBody.position.y;
        var blockY = other.body.position.y;
        /* Only bounce if Mario is below the block */
        if (myY &amp;gt; blockY + 4) {
          Matter.Body.setVelocity(myBody, {x: myBody.velocity.x, y: 2});
        }
      }
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onDeath&quot;&gt;
      lives--;
      if (lives &amp;lt;= 0) {
        gameOver = true;
      } else {
        game.respawn(&quot;mario&quot;, 40, 400);
      }
      _updateHUD();
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onWin&quot;&gt;
      if (!won) {
        won = true;
        score += 5000;
        _updateHUD();
        /* Stop theme music and play fanfare */
        game.stop(&#x27;theme_bgm&#x27;);
        game.play(&#x27;fanfare_sfx&#x27;);
        /* Flagpole slide: disable controls, slide Mario down the pole */
        var marioBody = _sprites[&quot;mario&quot;].body;
        var marioSprite = _sprites[&quot;mario&quot;].sprite;
        if (marioBody) {
          Matter.Body.setStatic(marioBody, true);
          Matter.Body.setVelocity(marioBody, {x: 0, y: 0});
          /* Slide down to ground level */
          var slideTarget = 400;
          var slideInterval = setInterval(function() {
            if (marioBody.position.y &amp;lt; slideTarget) {
              Matter.Body.setPosition(marioBody, {
                x: marioBody.position.x,
                y: marioBody.position.y + 2
              });
              marioSprite.y = marioBody.position.y;
            } else {
              clearInterval(slideInterval);
              /* Walk right off screen after reaching ground */
              Matter.Body.setStatic(marioBody, false);
              var walkInterval = setInterval(function() {
                Matter.Body.setVelocity(marioBody, {x: 3, y: marioBody.velocity.y});
                marioSprite.scale.x = Math.abs(marioSprite.scale.x);
              }, 16);
              setTimeout(function() { clearInterval(walkInterval); }, 2000);
            }
          }, 16);
        }
      }
    &lt;/q:function&gt;
  &lt;/qg:behavior&gt;

  &lt;qg:behavior name=&quot;GoombaAI&quot;&gt;
    &lt;q:set name=&quot;dir&quot; value=&quot;-1&quot; type=&quot;integer&quot; /&gt;
    &lt;q:set name=&quot;spd&quot; value=&quot;1&quot; type=&quot;float&quot; /&gt;

    &lt;q:function name=&quot;update&quot;&gt;
      var b = this.owner.body;
      if (b) Matter.Body.setVelocity(b, {x: this.dir * this.spd, y: b.velocity.y});
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onWall&quot;&gt;
      this.dir *= -1;
    &lt;/q:function&gt;
  &lt;/qg:behavior&gt;

  &lt;qg:behavior name=&quot;KoopaAI&quot;&gt;
    &lt;q:set name=&quot;dir&quot; value=&quot;-1&quot; type=&quot;integer&quot; /&gt;
    &lt;q:set name=&quot;spd&quot; value=&quot;0.8&quot; type=&quot;float&quot; /&gt;

    &lt;q:function name=&quot;update&quot;&gt;
      var b = this.owner.body;
      if (b) Matter.Body.setVelocity(b, {x: this.dir * this.spd, y: b.velocity.y});
    &lt;/q:function&gt;

    &lt;q:function name=&quot;onWall&quot;&gt;
      this.dir *= -1;
    &lt;/q:function&gt;
  &lt;/qg:behavior&gt;

  &lt;qg:behavior name=&quot;QBlock&quot;&gt;
    &lt;q:set name=&quot;active&quot; value=&quot;true&quot; type=&quot;boolean&quot; /&gt;

    &lt;q:function name=&quot;onHit&quot;&gt;
      if (!this.active) return;
      var other = this._other;
      if (!other || !other.body) return;
      /* Position-based: player must be BELOW block (hitting from underneath) */
      var playerY = other.body.position.y;
      var blockY = this.owner.body ? this.owner.body.position.y : this.owner.sprite.y;
      if (playerY &amp;gt; blockY + 4) {
        this.active = false;
        coins++;
        score += 200;
        game.play(&#x27;powerup_sfx&#x27;);
        _updateHUD();
        var spr = this.owner.sprite;
        if (spr) {
          /* Change to used block texture */
          spr.texture = PIXI.Texture.from(&#x27;used_tile.png&#x27;);
          /* Bounce animation */
          var origY = spr.y;
          spr.y -= 8;
          setTimeout(function() { spr.y = origY; }, 150);
        }
      }
    &lt;/q:function&gt;
  &lt;/qg:behavior&gt;

  &lt;qg:behavior name=&quot;BrickBlock&quot;&gt;
    &lt;q:set name=&quot;broken&quot; value=&quot;false&quot; type=&quot;boolean&quot; /&gt;

    &lt;q:function name=&quot;onHit&quot;&gt;
      if (this.broken) return;
      var other = this._other;
      if (!other || !other.body) return;
      /* Position-based: player must be BELOW block (hitting from underneath) */
      var playerY = other.body.position.y;
      var blockY = this.owner.body ? this.owner.body.position.y : this.owner.sprite.y;
      if (playerY &amp;gt; blockY + 4) {
        this.broken = true;
        score += 50;
        _updateHUD();
        /* Bounce up then destroy */
        var spr = this.owner.sprite;
        var self = this;
        if (spr) {
          var origY = spr.y;
          spr.y -= 8;
          setTimeout(function() {
            game.destroy(self.owner);
          }, 150);
        } else {
          game.destroy(this.owner);
        }
      }
    &lt;/q:function&gt;
  &lt;/qg:behavior&gt;

  &lt;!-- === SCENE === --&gt;

  &lt;qg:scene name=&quot;world1&quot; width=&quot;3392&quot; height=&quot;448&quot; background=&quot;#5C94FC&quot;&gt;

    &lt;qg:physics gravity-y=&quot;10&quot; bounds=&quot;none&quot; /&gt;

    &lt;qg:camera follow=&quot;mario&quot; lerp=&quot;0.08&quot; bounds=&quot;scene&quot; /&gt;

    &lt;q:set name=&quot;score&quot; value=&quot;0&quot; type=&quot;integer&quot; /&gt;
    &lt;q:set name=&quot;coins&quot; value=&quot;0&quot; type=&quot;integer&quot; /&gt;
    &lt;q:set name=&quot;lives&quot; value=&quot;3&quot; type=&quot;integer&quot; /&gt;
    &lt;q:set name=&quot;gameOver&quot; value=&quot;false&quot; type=&quot;boolean&quot; /&gt;
    &lt;q:set name=&quot;won&quot; value=&quot;false&quot; type=&quot;boolean&quot; /&gt;

    &lt;!-- TILEMAP (ground, pipes, stairs - NO bricks/qblocks) --&gt;
    &lt;qg:tilemap id=&quot;level&quot; src=&quot;tileset.png&quot; tile-width=&quot;16&quot; tile-height=&quot;16&quot;&gt;

      &lt;qg:layer name=&quot;background&quot;&gt;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
      &lt;/qg:layer&gt;

      &lt;qg:layer name=&quot;terrain_visual&quot;&gt;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
      &lt;/qg:layer&gt;

      &lt;qg:layer name=&quot;terrain&quot; collision=&quot;true&quot;&gt;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
      &lt;/qg:layer&gt;
    &lt;/qg:tilemap&gt;

    &lt;!-- Mario (player) --&gt;
    &lt;qg:sprite id=&quot;mario&quot; src=&quot;player.png&quot; x=&quot;40&quot; y=&quot;400&quot;
               width=&quot;16&quot; height=&quot;32&quot; frame-width=&quot;16&quot; frame-height=&quot;32&quot;
               body=&quot;dynamic&quot; controls=&quot;arrows&quot; speed=&quot;6&quot; jump-force=&quot;20&quot;
               bounce=&quot;0&quot; friction=&quot;0.8&quot; tag=&quot;player&quot;&gt;
      &lt;qg:animation name=&quot;idle&quot; frames=&quot;0&quot; speed=&quot;0.1&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;1-2&quot; speed=&quot;0.15&quot; loop=&quot;true&quot; /&gt;
      &lt;qg:animation name=&quot;jump&quot; frames=&quot;3&quot; speed=&quot;0.1&quot; loop=&quot;false&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onEnemyHit&quot; collision-tag=&quot;enemy&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onCoinGet&quot; collision-tag=&quot;coin&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onBlockHit&quot; collision-tag=&quot;qblock&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onBlockHit&quot; collision-tag=&quot;brick&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onDeath&quot; collision-tag=&quot;deathzone&quot; /&gt;
      &lt;qg:use behavior=&quot;MarioBehavior&quot;
             on-collision=&quot;onWin&quot; collision-tag=&quot;flagpole&quot; /&gt;
    &lt;/qg:sprite&gt;

    &lt;!-- Goombas (8 spread across level) --&gt;
    &lt;qg:sprite id=&quot;goomba1&quot; src=&quot;goomba.png&quot; x=&quot;352&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba2&quot; src=&quot;goomba.png&quot; x=&quot;540&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba3&quot; src=&quot;goomba.png&quot; x=&quot;640&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba4&quot; src=&quot;goomba.png&quot; x=&quot;880&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba5&quot; src=&quot;goomba.png&quot; x=&quot;1200&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba6&quot; src=&quot;goomba.png&quot; x=&quot;1500&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba7&quot; src=&quot;goomba.png&quot; x=&quot;1800&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;goomba8&quot; src=&quot;goomba.png&quot; x=&quot;2400&quot; y=&quot;408&quot;
               width=&quot;16&quot; height=&quot;16&quot; frame-width=&quot;16&quot; frame-height=&quot;16&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;GoombaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;

    &lt;!-- Koopa Troopas (4 spread across level) --&gt;
    &lt;qg:sprite id=&quot;koopa1&quot; src=&quot;koopa.png&quot; x=&quot;700&quot; y=&quot;404&quot;
               width=&quot;16&quot; height=&quot;24&quot; frame-width=&quot;16&quot; frame-height=&quot;24&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;KoopaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;koopa2&quot; src=&quot;koopa.png&quot; x=&quot;1100&quot; y=&quot;404&quot;
               width=&quot;16&quot; height=&quot;24&quot; frame-width=&quot;16&quot; frame-height=&quot;24&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;KoopaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;koopa3&quot; src=&quot;koopa.png&quot; x=&quot;1700&quot; y=&quot;404&quot;
               width=&quot;16&quot; height=&quot;24&quot; frame-width=&quot;16&quot; frame-height=&quot;24&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;KoopaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;koopa4&quot; src=&quot;koopa.png&quot; x=&quot;2200&quot; y=&quot;404&quot;
               width=&quot;16&quot; height=&quot;24&quot; frame-width=&quot;16&quot; frame-height=&quot;24&quot;
               body=&quot;dynamic&quot; bounce=&quot;0&quot; friction=&quot;0.3&quot; tag=&quot;enemy&quot;&gt;
      &lt;qg:animation name=&quot;walk&quot; frames=&quot;0-1&quot; speed=&quot;0.2&quot; loop=&quot;true&quot; auto-play=&quot;true&quot; /&gt;
      &lt;qg:use behavior=&quot;KoopaAI&quot;
             on-collision=&quot;onWall&quot; collision-tag=&quot;tilemap-collision&quot; /&gt;
    &lt;/qg:sprite&gt;

    &lt;!-- Interactive Blocks (individual destroyable sprites) --&gt;
    &lt;qg:sprite id=&quot;qb1&quot; src=&quot;qblock_tile.png&quot; x=&quot;328&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;qblock&quot;&gt;
      &lt;qg:use behavior=&quot;QBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;qb2&quot; src=&quot;qblock_tile.png&quot; x=&quot;1240&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;qblock&quot;&gt;
      &lt;qg:use behavior=&quot;QBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;qb3&quot; src=&quot;qblock_tile.png&quot; x=&quot;1272&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;qblock&quot;&gt;
      &lt;qg:use behavior=&quot;QBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;qb4&quot; src=&quot;qblock_tile.png&quot; x=&quot;1624&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;qblock&quot;&gt;
      &lt;qg:use behavior=&quot;QBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick1&quot; src=&quot;brick_tile.png&quot; x=&quot;264&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick2&quot; src=&quot;brick_tile.png&quot; x=&quot;280&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick3&quot; src=&quot;brick_tile.png&quot; x=&quot;296&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick4&quot; src=&quot;brick_tile.png&quot; x=&quot;1224&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick5&quot; src=&quot;brick_tile.png&quot; x=&quot;1256&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick6&quot; src=&quot;brick_tile.png&quot; x=&quot;1288&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick7&quot; src=&quot;brick_tile.png&quot; x=&quot;1240&quot; y=&quot;264&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick8&quot; src=&quot;brick_tile.png&quot; x=&quot;1256&quot; y=&quot;264&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick9&quot; src=&quot;brick_tile.png&quot; x=&quot;1272&quot; y=&quot;264&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick10&quot; src=&quot;brick_tile.png&quot; x=&quot;1608&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick11&quot; src=&quot;brick_tile.png&quot; x=&quot;1640&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;
    &lt;qg:sprite id=&quot;brick12&quot; src=&quot;brick_tile.png&quot; x=&quot;1656&quot; y=&quot;328&quot; width=&quot;16&quot; height=&quot;16&quot; body=&quot;static&quot; tag=&quot;brick&quot;&gt;
      &lt;qg:use behavior=&quot;BrickBlock&quot; on-collision=&quot;onHit&quot; collision-tag=&quot;player&quot; /&gt;
    &lt;/qg:sprite&gt;

    &lt;!-- Flagpole --&gt;
    &lt;qg:sprite id=&quot;flagpole&quot; src=&quot;&quot; x=&quot;3280&quot; y=&quot;336&quot;
               width=&quot;4&quot; height=&quot;160&quot; color=&quot;#808080&quot;
               body=&quot;static&quot; sensor=&quot;true&quot; tag=&quot;flagpole&quot; /&gt;

    &lt;!-- Death zone (below screen) --&gt;
    &lt;qg:sprite id=&quot;deathzone&quot; src=&quot;&quot; x=&quot;1696&quot; y=&quot;480&quot;
               width=&quot;3392&quot; height=&quot;32&quot; color=&quot;#000000&quot;
               body=&quot;static&quot; sensor=&quot;true&quot; tag=&quot;deathzone&quot;
               visible=&quot;false&quot; /&gt;

    &lt;!-- Sounds --&gt;
    &lt;qg:sound id=&quot;theme_bgm&quot; src=&quot;theme.wav&quot; channel=&quot;bgm&quot; loop=&quot;true&quot; trigger=&quot;scene.start&quot; volume=&quot;0.4&quot; /&gt;
    &lt;qg:sound id=&quot;jump_sfx&quot; src=&quot;jump.wav&quot; channel=&quot;sfx&quot; trigger=&quot;player.jump&quot; /&gt;
    &lt;qg:sound id=&quot;coin_sfx&quot; src=&quot;coin.wav&quot; channel=&quot;sfx&quot; /&gt;
    &lt;qg:sound id=&quot;powerup_sfx&quot; src=&quot;powerup.wav&quot; channel=&quot;sfx&quot; /&gt;
    &lt;qg:sound id=&quot;fanfare_sfx&quot; src=&quot;fanfare.wav&quot; channel=&quot;bgm&quot; /&gt;

    &lt;!-- HUD --&gt;
    &lt;qg:hud position=&quot;top-left&quot;&gt;
      &lt;text style=&quot;font-size:14px; color:#fff; font-family:monospace; text-shadow:1px 1px #000; padding:8px;&quot;&gt;
        MARIO  {score}
      &lt;/text&gt;
    &lt;/qg:hud&gt;
    &lt;qg:hud position=&quot;top-center&quot;&gt;
      &lt;text style=&quot;font-size:14px; color:#ffd700; font-family:monospace; text-shadow:1px 1px #000;&quot;&gt;
        x{coins}
      &lt;/text&gt;
    &lt;/qg:hud&gt;
    &lt;qg:hud position=&quot;top-right&quot;&gt;
      &lt;text style=&quot;font-size:14px; color:#fff; font-family:monospace; text-shadow:1px 1px #000; padding:8px;&quot;&gt;
        WORLD 1-1  LIVES:{lives}
      &lt;/text&gt;
    &lt;/qg:hud&gt;
    &lt;qg:hud position=&quot;center&quot;&gt;
      &lt;text style=&quot;font-size:36px; color:#fff; font-family:monospace; text-shadow:3px 3px #000;&quot;&gt;
        {gameOver ? &#x27;GAME OVER&#x27; : (won ? &#x27;STAGE CLEAR!&#x27; : &#x27;&#x27;)}
      &lt;/text&gt;
    &lt;/qg:hud&gt;

    &lt;!-- Restart --&gt;
    &lt;q:function name=&quot;restart&quot;&gt;
      game.respawn(&quot;mario&quot;, 40, 400);
      &lt;q:set name=&quot;score&quot; value=&quot;{0}&quot; /&gt;
      &lt;q:set name=&quot;coins&quot; value=&quot;{0}&quot; /&gt;
      &lt;q:set name=&quot;lives&quot; value=&quot;{3}&quot; /&gt;
      &lt;q:set name=&quot;gameOver&quot; value=&quot;{false}&quot; /&gt;
      &lt;q:set name=&quot;won&quot; value=&quot;{false}&quot; /&gt;
      _updateHUD();
    &lt;/q:function&gt;
    &lt;qg:input key=&quot;r&quot; action=&quot;restart&quot; type=&quot;press&quot; /&gt;

  &lt;/qg:scene&gt;
&lt;/q:application&gt;
</pre>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/pixi.js@8/dist/pixi.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.20/build/matter.min.js"></script>
  <script>
function toggleSource() {
  var modal = document.getElementById('qg-source-modal');
  modal.classList.toggle('visible');
}
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    document.getElementById('qg-source-modal').classList.remove('visible');
  }
});
(async function() {

  // === PIXI APP ===
  const app = new PIXI.Application();
  await app.init({ width: 800, height: 448, background: "#5C94FC" });
  document.body.appendChild(app.canvas);
  // World size: 3392x448, Viewport: 800x448

  // === MATTER.JS ENGINE ===
  const mEngine = Matter.Engine.create();
  mEngine.gravity.x = 0;
  mEngine.gravity.y = 10;
  // Increase solver iterations for tighter collision resolution
  mEngine.positionIterations = 10;
  mEngine.velocityIterations = 8;
  const mWorld = mEngine.world;

  // === EVENT BUS ===
  // Event Bus
  const _gameEvents = { _listeners: {} };
  _gameEvents.on = function(event, cb) {
    if (!this._listeners[event]) {
      this._listeners[event] = [];
    }
    this._listeners[event].push(cb);
  };
  _gameEvents.off = function(event, cb) {
    if (this._listeners[event]) {
      this._listeners[event] = this._listeners[event].filter(fn => fn !== cb);
    }
  };
  _gameEvents.emit = function(event, data) {
    if (this._listeners[event]) {
      for (const cb of this._listeners[event]) {
        cb(data);
      }
    }
  };

  // === GAME STATE ===
  let score = 0;
  let coins = 0;
  let lives = 3;
  let gameOver = false;
  let won = false;

  // === ASSET LOADING ===
  await PIXI.Assets.load(["brick_tile.png", "coin.wav", "fanfare.wav", "goomba.png", "jump.wav", "koopa.png", "player.png", "powerup.wav", "qblock_tile.png", "theme.wav", "tileset.png"]);

  // === ANIMATION SYSTEM ===
  // Animation System
  const _animatedSprites = {};

  function _parseFrames(spec) {
    if (spec.includes('-')) {
      const parts = spec.split('-').map(Number);
      const result = [];
      for (let i = parts[0]; i <= parts[1]; i += 1) {
        result.push(i);
      }
      return result;
    }
    return spec.split(',').map(s => parseInt(s.trim(), 10));
  }

  function _registerAnimation(spriteId, texture, frameW, frameH, anims) {
    if (!texture || !frameW || !frameH) {
      return;
    }
    const baseTexture = texture.source || texture.baseTexture || texture;
    const texW = baseTexture.width || texture.width;
    const texH = baseTexture.height || texture.height;
    const cols = Math.floor(texW / frameW);
    const rows = Math.floor(texH / frameH);
    const totalFrames = cols * rows;

    // Build frame textures
    const frameTextures = [];
    for (let i = 0; i <= totalFrames - 1; i += 1) {
      const fx = i % cols;
      const fy = Math.floor(i / cols);
      const rect = new PIXI.Rectangle(fx * frameW, fy * frameH, frameW, frameH);
      const frameTex = new PIXI.Texture({ source: baseTexture, frame: rect });
      frameTextures.push(frameTex);
    }

    // Parse named animations
    const animDefs = {};
    let defaultAnim = null;
    for (const [name, cfg] of Object.entries(anims)) {
      const frames = _parseFrames(cfg.frames);
      const textures = frames.filter(f => f < frameTextures.length).map(f => frameTextures[f]);
      if (textures.length > 0) {
        animDefs[name] = { textures: textures, speed: cfg.speed || 0.1, loop: cfg.loop !== false };
        if (cfg.autoPlay) {
          defaultAnim = name;
        }
      }
    }

    if (Object.keys(animDefs).length === 0) {
      return;
    }

    if (!defaultAnim) {
      defaultAnim = Object.keys(animDefs)[0];
    }

    // Create animated sprite
    const firstAnim = animDefs[defaultAnim];
    const animSprite = new PIXI.AnimatedSprite(firstAnim.textures);
    animSprite.animationSpeed = firstAnim.speed;
    if (firstAnim.loop !== false) {
      animSprite.loop = true;
    }
    animSprite.play();

    // Copy transform from static sprite
    const info = _sprites[spriteId];
    if (info) {
      const oldSprite = info.sprite;
      animSprite.x = oldSprite.x;
      animSprite.y = oldSprite.y;
      animSprite.anchor.x = oldSprite.anchor ? oldSprite.anchor.x : 0.5;
      animSprite.anchor.y = oldSprite.anchor ? oldSprite.anchor.y : 0.5;
      if (oldSprite.width) {
        animSprite.width = oldSprite.width;
      }
      if (oldSprite.height) {
        animSprite.height = oldSprite.height;
      }
      animSprite.alpha = oldSprite.alpha;
      animSprite.visible = oldSprite.visible;

      // Replace in container
      const parent = oldSprite.parent;
      if (parent) {
        const idx = parent.getChildIndex(oldSprite);
        parent.removeChild(oldSprite);
        parent.addChildAt(animSprite, idx);
      }
      info.sprite = animSprite;
      _animatedSprites[spriteId] = { anims: animDefs, current: defaultAnim, sprite: animSprite };
    }
  }

  function _switchAnimation(spriteId, animName) {
    const entry = _animatedSprites[spriteId];
    if (!entry || entry.current === animName || !entry.anims[animName]) {
      return;
    }
    const anim = entry.anims[animName];
    entry.sprite.textures = anim.textures;
    entry.sprite.animationSpeed = anim.speed;
    entry.sprite.loop = anim.loop !== false;
    entry.sprite.gotoAndPlay(0);
    entry.current = animName;
  }

  function _updateControlAnimations() {
    for (const [spriteId, ctrl] of Object.entries(_controlledSprites)) {
      const entry = _animatedSprites[spriteId];
      if (!entry) {
        continue;
      }
      const info = _sprites[spriteId];
      if (!info || !info.body) {
        continue;
      }
      const vx = Math.abs(info.body.velocity.x);
      const vy = info.body.velocity.y;

      // Priority: jump > walk > idle
      if (Math.abs(vy) > 5 && entry.anims['jump']) {
        _switchAnimation(spriteId, 'jump');
      } else if (vx > 0.5 && _keys[ctrl.right] && entry.anims['walk-right']) {
        _switchAnimation(spriteId, 'walk-right');
      } else if (vx > 0.5 && _keys[ctrl.left] && entry.anims['walk-left']) {
        _switchAnimation(spriteId, 'walk-left');
      } else if (vx > 0.5 && (entry.anims['walk'] || entry.anims['walk-right'])) {
        _switchAnimation(spriteId, entry.anims['walk'] ? 'walk' : 'walk-right');
      } else if (entry.anims['idle']) {
        _switchAnimation(spriteId, 'idle');
      }
    }
  }

  // === BEHAVIORS ===
  class MarioBehavior {
    constructor(owner, overrides) {
      this.owner = owner;
      if (overrides) Object.assign(this, overrides);
    }
    get x() { return this.owner.sprite.x; }
    set x(v) { this.owner.sprite.x = v; }
    get y() { return this.owner.sprite.y; }
    set y(v) { this.owner.sprite.y = v; }
    get rotation() { return this.owner.sprite.rotation; }
    set rotation(v) { this.owner.sprite.rotation = v; }
    get alpha() { return this.owner.sprite.alpha; }
    set alpha(v) { this.owner.sprite.alpha = v; }
    get visible() { return this.owner.sprite.visible; }
    set visible(v) { this.owner.sprite.visible = v; }
    onEnemyHit() {
      var other = this._other;
      var myBody = this.owner.body;
      var enemyBody = other ? other.body : null;
      var stomped = false;
      if (myBody && enemyBody) {
      /* Stomp: Mario's bottom must be above enemy's vertical center */
      var marioBottom = myBody.position.y + 16;
      var enemyCenter = enemyBody.position.y;
      stomped = (marioBottom < enemyCenter + 4) && (myBody.velocity.y > 0);
      }
      if (stomped) {
      Matter.Body.setVelocity(myBody, {x: myBody.velocity.x, y: -8});
      game.destroy(other);
      score += 100;
      _updateHUD();
      } else {
      lives--;
      if (lives <= 0) {
      gameOver = true;
      _updateHUD();
      } else {
      game.respawn("mario", 40, 400);
      _updateHUD();
      }
      }
    }
    onCoinGet() {
      var other = this._other;
      coins++;
      score += 200;
      game.destroy(other);
      game.play('coin_sfx');
      _updateHUD();
    }
    onBlockHit() {
      var other = this._other;
      var myBody = this.owner.body;
      if (myBody && other && other.body) {
      var myY = myBody.position.y;
      var blockY = other.body.position.y;
      /* Only bounce if Mario is below the block */
      if (myY > blockY + 4) {
      Matter.Body.setVelocity(myBody, {x: myBody.velocity.x, y: 2});
      }
      }
    }
    onDeath() {
      lives--;
      if (lives <= 0) {
      gameOver = true;
      } else {
      game.respawn("mario", 40, 400);
      }
      _updateHUD();
    }
    onWin() {
      if (!won) {
      won = true;
      score += 5000;
      _updateHUD();
      /* Stop theme music and play fanfare */
      game.stop('theme_bgm');
      game.play('fanfare_sfx');
      /* Flagpole slide: disable controls, slide Mario down the pole */
      var marioBody = _sprites["mario"].body;
      var marioSprite = _sprites["mario"].sprite;
      if (marioBody) {
      Matter.Body.setStatic(marioBody, true);
      Matter.Body.setVelocity(marioBody, {x: 0, y: 0});
      /* Slide down to ground level */
      var slideTarget = 400;
      var slideInterval = setInterval(function() {
      if (marioBody.position.y < slideTarget) {
      Matter.Body.setPosition(marioBody, {
      x: marioBody.position.x,
      y: marioBody.position.y + 2
      });
      marioSprite.y = marioBody.position.y;
      } else {
      clearInterval(slideInterval);
      /* Walk right off screen after reaching ground */
      Matter.Body.setStatic(marioBody, false);
      var walkInterval = setInterval(function() {
      Matter.Body.setVelocity(marioBody, {x: 3, y: marioBody.velocity.y});
      marioSprite.scale.x = Math.abs(marioSprite.scale.x);
      }, 16);
      setTimeout(function() { clearInterval(walkInterval); }, 2000);
      }
      }, 16);
      }
      }
    }
  }

  class GoombaAI {
    constructor(owner, overrides) {
      this.owner = owner;
      this.dir = -1;
      this.spd = 1;
      if (overrides) Object.assign(this, overrides);
    }
    get x() { return this.owner.sprite.x; }
    set x(v) { this.owner.sprite.x = v; }
    get y() { return this.owner.sprite.y; }
    set y(v) { this.owner.sprite.y = v; }
    get rotation() { return this.owner.sprite.rotation; }
    set rotation(v) { this.owner.sprite.rotation = v; }
    get alpha() { return this.owner.sprite.alpha; }
    set alpha(v) { this.owner.sprite.alpha = v; }
    get visible() { return this.owner.sprite.visible; }
    set visible(v) { this.owner.sprite.visible = v; }
    update() {
      var b = this.owner.body;
      if (b) Matter.Body.setVelocity(b, {x: this.dir * this.spd, y: b.velocity.y});
    }
    onWall() {
      this.dir *= -1;
    }
  }

  class KoopaAI {
    constructor(owner, overrides) {
      this.owner = owner;
      this.dir = -1;
      this.spd = 0.8;
      if (overrides) Object.assign(this, overrides);
    }
    get x() { return this.owner.sprite.x; }
    set x(v) { this.owner.sprite.x = v; }
    get y() { return this.owner.sprite.y; }
    set y(v) { this.owner.sprite.y = v; }
    get rotation() { return this.owner.sprite.rotation; }
    set rotation(v) { this.owner.sprite.rotation = v; }
    get alpha() { return this.owner.sprite.alpha; }
    set alpha(v) { this.owner.sprite.alpha = v; }
    get visible() { return this.owner.sprite.visible; }
    set visible(v) { this.owner.sprite.visible = v; }
    update() {
      var b = this.owner.body;
      if (b) Matter.Body.setVelocity(b, {x: this.dir * this.spd, y: b.velocity.y});
    }
    onWall() {
      this.dir *= -1;
    }
  }

  class QBlock {
    constructor(owner, overrides) {
      this.owner = owner;
      this.active = true;
      if (overrides) Object.assign(this, overrides);
    }
    get x() { return this.owner.sprite.x; }
    set x(v) { this.owner.sprite.x = v; }
    get y() { return this.owner.sprite.y; }
    set y(v) { this.owner.sprite.y = v; }
    get rotation() { return this.owner.sprite.rotation; }
    set rotation(v) { this.owner.sprite.rotation = v; }
    get alpha() { return this.owner.sprite.alpha; }
    set alpha(v) { this.owner.sprite.alpha = v; }
    get visible() { return this.owner.sprite.visible; }
    set visible(v) { this.owner.sprite.visible = v; }
    onHit() {
      if (!this.active) return;
      var other = this._other;
      if (!other || !other.body) return;
      /* Position-based: player must be BELOW block (hitting from underneath) */
      var playerY = other.body.position.y;
      var blockY = this.owner.body ? this.owner.body.position.y : this.owner.sprite.y;
      if (playerY > blockY + 4) {
      this.active = false;
      coins++;
      score += 200;
      game.play('powerup_sfx');
      _updateHUD();
      var spr = this.owner.sprite;
      if (spr) {
      /* Change to used block texture */
      spr.texture = PIXI.Texture.from('used_tile.png');
      /* Bounce animation */
      var origY = spr.y;
      spr.y -= 8;
      setTimeout(function() { spr.y = origY; }, 150);
      }
      }
    }
  }

  class BrickBlock {
    constructor(owner, overrides) {
      this.owner = owner;
      this.broken = false;
      if (overrides) Object.assign(this, overrides);
    }
    get x() { return this.owner.sprite.x; }
    set x(v) { this.owner.sprite.x = v; }
    get y() { return this.owner.sprite.y; }
    set y(v) { this.owner.sprite.y = v; }
    get rotation() { return this.owner.sprite.rotation; }
    set rotation(v) { this.owner.sprite.rotation = v; }
    get alpha() { return this.owner.sprite.alpha; }
    set alpha(v) { this.owner.sprite.alpha = v; }
    get visible() { return this.owner.sprite.visible; }
    set visible(v) { this.owner.sprite.visible = v; }
    onHit() {
      if (this.broken) return;
      var other = this._other;
      if (!other || !other.body) return;
      /* Position-based: player must be BELOW block (hitting from underneath) */
      var playerY = other.body.position.y;
      var blockY = this.owner.body ? this.owner.body.position.y : this.owner.sprite.y;
      if (playerY > blockY + 4) {
      this.broken = true;
      score += 50;
      _updateHUD();
      /* Bounce up then destroy */
      var spr = this.owner.sprite;
      var self = this;
      if (spr) {
      var origY = spr.y;
      spr.y -= 8;
      setTimeout(function() {
      game.destroy(this.owner);
      }, 150);
      } else {
      game.destroy(this.owner);
      }
      }
    }
  }


  // === CAMERA ===
  const _cameraContainer = new PIXI.Container();
  app.stage.addChild(_cameraContainer);
  const _camera = { targetId: "mario", lerp: 0.08 };

  function updateCamera() {
    const info = _sprites[_camera.targetId];
    if (!info) {
      return;
    }
    const tx = app.screen.width / 2 - info.sprite.x;
    const ty = app.screen.height / 2 - info.sprite.y;
    _cameraContainer.x += (tx - _cameraContainer.x) * _camera.lerp;
    _cameraContainer.y += (ty - _cameraContainer.y) * _camera.lerp;
    _cameraContainer.x = Math.min(0, Math.max(app.screen.width - 3392, _cameraContainer.x));
    _cameraContainer.y = Math.min(0, Math.max(app.screen.height - 448, _cameraContainer.y));
  }

  // === VISUAL TILEMAPS ===
  const _tileData_level_background = [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];
  const _tileset_level = PIXI.Assets.get("tileset.png");
  const _tsSource_level = _tileset_level.source || _tileset_level.baseTexture || _tileset_level;
  const _tsCols_level = Math.floor((_tileset_level.width || 0) / 16);
  for (let _ty = 0; _ty <= _tileData_level_background.length - 1; _ty += 1) {
    for (let _tx = 0; _tx <= _tileData_level_background[_ty].length - 1; _tx += 1) {
      const _tileId = _tileData_level_background[_ty][_tx];
      if (_tileId > 0) {
        const _tileCol = (_tileId - 1) % _tsCols_level;
        const _tileRow = Math.floor((_tileId - 1) / _tsCols_level);
        const _tileRect = new PIXI.Rectangle(_tileCol * 16, _tileRow * 16, 16, 16);
        const _tileTex = new PIXI.Texture({ source: _tsSource_level, frame: _tileRect });
        const _tileSpr = new PIXI.Sprite(_tileTex);
        _tileSpr.x = _tx * 16;
        _tileSpr.y = _ty * 16;
        _cameraContainer.addChild(_tileSpr);
      }
    }
  }

  const _tileData_level_terrain_visual = [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,14,14,14,14,14,14,14,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]];
  for (let _ty = 0; _ty <= _tileData_level_terrain_visual.length - 1; _ty += 1) {
    for (let _tx = 0; _tx <= _tileData_level_terrain_visual[_ty].length - 1; _tx += 1) {
      const _tileId = _tileData_level_terrain_visual[_ty][_tx];
      if (_tileId > 0) {
        const _tileCol = (_tileId - 1) % _tsCols_level;
        const _tileRow = Math.floor((_tileId - 1) / _tsCols_level);
        const _tileRect = new PIXI.Rectangle(_tileCol * 16, _tileRow * 16, 16, 16);
        const _tileTex = new PIXI.Texture({ source: _tsSource_level, frame: _tileRect });
        const _tileSpr = new PIXI.Sprite(_tileTex);
        _tileSpr.x = _tx * 16;
        _tileSpr.y = _ty * 16;
        _cameraContainer.addChild(_tileSpr);
      }
    }
  }


  // === SPRITES & BODIES ===
  const _sprites = {};
  const _bodyToSprite = {};
  const _spr_tile_level_17_193 = new PIXI.Graphics();
  _spr_tile_level_17_193.rect(-8.0, -8.0, 16, 16);
  _spr_tile_level_17_193.fill({ color: 0x4a9eff });
  _spr_tile_level_17_193.x = 3096;
  _spr_tile_level_17_193.y = 280;
  _spr_tile_level_17_193.alpha = 0;
  _spr_tile_level_17_193.visible = false;
  _cameraContainer.addChild(_spr_tile_level_17_193);
  const _body_tile_level_17_193 = Matter.Bodies.rectangle(3096, 280, 16, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_17_193.id] = "tile_level_17_193";
  _sprites["tile_level_17_193"] = { sprite: _spr_tile_level_17_193, body: _body_tile_level_17_193, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_18_192 = new PIXI.Graphics();
  _spr_tile_level_18_192.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_18_192.fill({ color: 0x4a9eff });
  _spr_tile_level_18_192.x = 3088;
  _spr_tile_level_18_192.y = 296;
  _spr_tile_level_18_192.alpha = 0;
  _spr_tile_level_18_192.visible = false;
  _cameraContainer.addChild(_spr_tile_level_18_192);
  const _body_tile_level_18_192 = Matter.Bodies.rectangle(3088, 296, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_18_192.id] = "tile_level_18_192";
  _sprites["tile_level_18_192"] = { sprite: _spr_tile_level_18_192, body: _body_tile_level_18_192, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_19_191 = new PIXI.Graphics();
  _spr_tile_level_19_191.rect(-24.0, -8.0, 48, 16);
  _spr_tile_level_19_191.fill({ color: 0x4a9eff });
  _spr_tile_level_19_191.x = 3080;
  _spr_tile_level_19_191.y = 312;
  _spr_tile_level_19_191.alpha = 0;
  _spr_tile_level_19_191.visible = false;
  _cameraContainer.addChild(_spr_tile_level_19_191);
  const _body_tile_level_19_191 = Matter.Bodies.rectangle(3080, 312, 48, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_19_191.id] = "tile_level_19_191";
  _sprites["tile_level_19_191"] = { sprite: _spr_tile_level_19_191, body: _body_tile_level_19_191, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_20_190 = new PIXI.Graphics();
  _spr_tile_level_20_190.rect(-32.0, -8.0, 64, 16);
  _spr_tile_level_20_190.fill({ color: 0x4a9eff });
  _spr_tile_level_20_190.x = 3072;
  _spr_tile_level_20_190.y = 328;
  _spr_tile_level_20_190.alpha = 0;
  _spr_tile_level_20_190.visible = false;
  _cameraContainer.addChild(_spr_tile_level_20_190);
  const _body_tile_level_20_190 = Matter.Bodies.rectangle(3072, 328, 64, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_20_190.id] = "tile_level_20_190";
  _sprites["tile_level_20_190"] = { sprite: _spr_tile_level_20_190, body: _body_tile_level_20_190, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_21_189 = new PIXI.Graphics();
  _spr_tile_level_21_189.rect(-40.0, -8.0, 80, 16);
  _spr_tile_level_21_189.fill({ color: 0x4a9eff });
  _spr_tile_level_21_189.x = 3064;
  _spr_tile_level_21_189.y = 344;
  _spr_tile_level_21_189.alpha = 0;
  _spr_tile_level_21_189.visible = false;
  _cameraContainer.addChild(_spr_tile_level_21_189);
  const _body_tile_level_21_189 = Matter.Bodies.rectangle(3064, 344, 80, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_21_189.id] = "tile_level_21_189";
  _sprites["tile_level_21_189"] = { sprite: _spr_tile_level_21_189, body: _body_tile_level_21_189, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_22_58 = new PIXI.Graphics();
  _spr_tile_level_22_58.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_22_58.fill({ color: 0x4a9eff });
  _spr_tile_level_22_58.x = 944;
  _spr_tile_level_22_58.y = 360;
  _spr_tile_level_22_58.alpha = 0;
  _spr_tile_level_22_58.visible = false;
  _cameraContainer.addChild(_spr_tile_level_22_58);
  const _body_tile_level_22_58 = Matter.Bodies.rectangle(944, 360, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_22_58.id] = "tile_level_22_58";
  _sprites["tile_level_22_58"] = { sprite: _spr_tile_level_22_58, body: _body_tile_level_22_58, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_22_188 = new PIXI.Graphics();
  _spr_tile_level_22_188.rect(-48.0, -8.0, 96, 16);
  _spr_tile_level_22_188.fill({ color: 0x4a9eff });
  _spr_tile_level_22_188.x = 3056;
  _spr_tile_level_22_188.y = 360;
  _spr_tile_level_22_188.alpha = 0;
  _spr_tile_level_22_188.visible = false;
  _cameraContainer.addChild(_spr_tile_level_22_188);
  const _body_tile_level_22_188 = Matter.Bodies.rectangle(3056, 360, 96, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_22_188.id] = "tile_level_22_188";
  _sprites["tile_level_22_188"] = { sprite: _spr_tile_level_22_188, body: _body_tile_level_22_188, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_23_38 = new PIXI.Graphics();
  _spr_tile_level_23_38.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_23_38.fill({ color: 0x4a9eff });
  _spr_tile_level_23_38.x = 624;
  _spr_tile_level_23_38.y = 376;
  _spr_tile_level_23_38.alpha = 0;
  _spr_tile_level_23_38.visible = false;
  _cameraContainer.addChild(_spr_tile_level_23_38);
  const _body_tile_level_23_38 = Matter.Bodies.rectangle(624, 376, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_23_38.id] = "tile_level_23_38";
  _sprites["tile_level_23_38"] = { sprite: _spr_tile_level_23_38, body: _body_tile_level_23_38, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_23_58 = new PIXI.Graphics();
  _spr_tile_level_23_58.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_23_58.fill({ color: 0x4a9eff });
  _spr_tile_level_23_58.x = 944;
  _spr_tile_level_23_58.y = 376;
  _spr_tile_level_23_58.alpha = 0;
  _spr_tile_level_23_58.visible = false;
  _cameraContainer.addChild(_spr_tile_level_23_58);
  const _body_tile_level_23_58 = Matter.Bodies.rectangle(944, 376, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_23_58.id] = "tile_level_23_58";
  _sprites["tile_level_23_58"] = { sprite: _spr_tile_level_23_58, body: _body_tile_level_23_58, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_23_187 = new PIXI.Graphics();
  _spr_tile_level_23_187.rect(-56.0, -8.0, 112, 16);
  _spr_tile_level_23_187.fill({ color: 0x4a9eff });
  _spr_tile_level_23_187.x = 3048;
  _spr_tile_level_23_187.y = 376;
  _spr_tile_level_23_187.alpha = 0;
  _spr_tile_level_23_187.visible = false;
  _cameraContainer.addChild(_spr_tile_level_23_187);
  const _body_tile_level_23_187 = Matter.Bodies.rectangle(3048, 376, 112, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_23_187.id] = "tile_level_23_187";
  _sprites["tile_level_23_187"] = { sprite: _spr_tile_level_23_187, body: _body_tile_level_23_187, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_24_28 = new PIXI.Graphics();
  _spr_tile_level_24_28.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_24_28.fill({ color: 0x4a9eff });
  _spr_tile_level_24_28.x = 464;
  _spr_tile_level_24_28.y = 392;
  _spr_tile_level_24_28.alpha = 0;
  _spr_tile_level_24_28.visible = false;
  _cameraContainer.addChild(_spr_tile_level_24_28);
  const _body_tile_level_24_28 = Matter.Bodies.rectangle(464, 392, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_24_28.id] = "tile_level_24_28";
  _sprites["tile_level_24_28"] = { sprite: _spr_tile_level_24_28, body: _body_tile_level_24_28, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_24_38 = new PIXI.Graphics();
  _spr_tile_level_24_38.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_24_38.fill({ color: 0x4a9eff });
  _spr_tile_level_24_38.x = 624;
  _spr_tile_level_24_38.y = 392;
  _spr_tile_level_24_38.alpha = 0;
  _spr_tile_level_24_38.visible = false;
  _cameraContainer.addChild(_spr_tile_level_24_38);
  const _body_tile_level_24_38 = Matter.Bodies.rectangle(624, 392, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_24_38.id] = "tile_level_24_38";
  _sprites["tile_level_24_38"] = { sprite: _spr_tile_level_24_38, body: _body_tile_level_24_38, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_24_58 = new PIXI.Graphics();
  _spr_tile_level_24_58.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_24_58.fill({ color: 0x4a9eff });
  _spr_tile_level_24_58.x = 944;
  _spr_tile_level_24_58.y = 392;
  _spr_tile_level_24_58.alpha = 0;
  _spr_tile_level_24_58.visible = false;
  _cameraContainer.addChild(_spr_tile_level_24_58);
  const _body_tile_level_24_58 = Matter.Bodies.rectangle(944, 392, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_24_58.id] = "tile_level_24_58";
  _sprites["tile_level_24_58"] = { sprite: _spr_tile_level_24_58, body: _body_tile_level_24_58, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_24_186 = new PIXI.Graphics();
  _spr_tile_level_24_186.rect(-64.0, -8.0, 128, 16);
  _spr_tile_level_24_186.fill({ color: 0x4a9eff });
  _spr_tile_level_24_186.x = 3040;
  _spr_tile_level_24_186.y = 392;
  _spr_tile_level_24_186.alpha = 0;
  _spr_tile_level_24_186.visible = false;
  _cameraContainer.addChild(_spr_tile_level_24_186);
  const _body_tile_level_24_186 = Matter.Bodies.rectangle(3040, 392, 128, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_24_186.id] = "tile_level_24_186";
  _sprites["tile_level_24_186"] = { sprite: _spr_tile_level_24_186, body: _body_tile_level_24_186, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_25_28 = new PIXI.Graphics();
  _spr_tile_level_25_28.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_25_28.fill({ color: 0x4a9eff });
  _spr_tile_level_25_28.x = 464;
  _spr_tile_level_25_28.y = 408;
  _spr_tile_level_25_28.alpha = 0;
  _spr_tile_level_25_28.visible = false;
  _cameraContainer.addChild(_spr_tile_level_25_28);
  const _body_tile_level_25_28 = Matter.Bodies.rectangle(464, 408, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_25_28.id] = "tile_level_25_28";
  _sprites["tile_level_25_28"] = { sprite: _spr_tile_level_25_28, body: _body_tile_level_25_28, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_25_38 = new PIXI.Graphics();
  _spr_tile_level_25_38.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_25_38.fill({ color: 0x4a9eff });
  _spr_tile_level_25_38.x = 624;
  _spr_tile_level_25_38.y = 408;
  _spr_tile_level_25_38.alpha = 0;
  _spr_tile_level_25_38.visible = false;
  _cameraContainer.addChild(_spr_tile_level_25_38);
  const _body_tile_level_25_38 = Matter.Bodies.rectangle(624, 408, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_25_38.id] = "tile_level_25_38";
  _sprites["tile_level_25_38"] = { sprite: _spr_tile_level_25_38, body: _body_tile_level_25_38, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_25_58 = new PIXI.Graphics();
  _spr_tile_level_25_58.rect(-16.0, -8.0, 32, 16);
  _spr_tile_level_25_58.fill({ color: 0x4a9eff });
  _spr_tile_level_25_58.x = 944;
  _spr_tile_level_25_58.y = 408;
  _spr_tile_level_25_58.alpha = 0;
  _spr_tile_level_25_58.visible = false;
  _cameraContainer.addChild(_spr_tile_level_25_58);
  const _body_tile_level_25_58 = Matter.Bodies.rectangle(944, 408, 32, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_25_58.id] = "tile_level_25_58";
  _sprites["tile_level_25_58"] = { sprite: _spr_tile_level_25_58, body: _body_tile_level_25_58, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_25_185 = new PIXI.Graphics();
  _spr_tile_level_25_185.rect(-72.0, -8.0, 144, 16);
  _spr_tile_level_25_185.fill({ color: 0x4a9eff });
  _spr_tile_level_25_185.x = 3032;
  _spr_tile_level_25_185.y = 408;
  _spr_tile_level_25_185.alpha = 0;
  _spr_tile_level_25_185.visible = false;
  _cameraContainer.addChild(_spr_tile_level_25_185);
  const _body_tile_level_25_185 = Matter.Bodies.rectangle(3032, 408, 144, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_25_185.id] = "tile_level_25_185";
  _sprites["tile_level_25_185"] = { sprite: _spr_tile_level_25_185, body: _body_tile_level_25_185, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_26_0 = new PIXI.Graphics();
  _spr_tile_level_26_0.rect(-552.0, -8.0, 1104, 16);
  _spr_tile_level_26_0.fill({ color: 0x4a9eff });
  _spr_tile_level_26_0.x = 552;
  _spr_tile_level_26_0.y = 424;
  _spr_tile_level_26_0.alpha = 0;
  _spr_tile_level_26_0.visible = false;
  _cameraContainer.addChild(_spr_tile_level_26_0);
  const _body_tile_level_26_0 = Matter.Bodies.rectangle(552, 424, 1104, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_26_0.id] = "tile_level_26_0";
  _sprites["tile_level_26_0"] = { sprite: _spr_tile_level_26_0, body: _body_tile_level_26_0, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_26_73 = new PIXI.Graphics();
  _spr_tile_level_26_73.rect(-496.0, -8.0, 992, 16);
  _spr_tile_level_26_73.fill({ color: 0x4a9eff });
  _spr_tile_level_26_73.x = 1664;
  _spr_tile_level_26_73.y = 424;
  _spr_tile_level_26_73.alpha = 0;
  _spr_tile_level_26_73.visible = false;
  _cameraContainer.addChild(_spr_tile_level_26_73);
  const _body_tile_level_26_73 = Matter.Bodies.rectangle(1664, 424, 992, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_26_73.id] = "tile_level_26_73";
  _sprites["tile_level_26_73"] = { sprite: _spr_tile_level_26_73, body: _body_tile_level_26_73, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_26_139 = new PIXI.Graphics();
  _spr_tile_level_26_139.rect(-584.0, -8.0, 1168, 16);
  _spr_tile_level_26_139.fill({ color: 0x4a9eff });
  _spr_tile_level_26_139.x = 2808;
  _spr_tile_level_26_139.y = 424;
  _spr_tile_level_26_139.alpha = 0;
  _spr_tile_level_26_139.visible = false;
  _cameraContainer.addChild(_spr_tile_level_26_139);
  const _body_tile_level_26_139 = Matter.Bodies.rectangle(2808, 424, 1168, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_26_139.id] = "tile_level_26_139";
  _sprites["tile_level_26_139"] = { sprite: _spr_tile_level_26_139, body: _body_tile_level_26_139, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_27_0 = new PIXI.Graphics();
  _spr_tile_level_27_0.rect(-552.0, -8.0, 1104, 16);
  _spr_tile_level_27_0.fill({ color: 0x4a9eff });
  _spr_tile_level_27_0.x = 552;
  _spr_tile_level_27_0.y = 440;
  _spr_tile_level_27_0.alpha = 0;
  _spr_tile_level_27_0.visible = false;
  _cameraContainer.addChild(_spr_tile_level_27_0);
  const _body_tile_level_27_0 = Matter.Bodies.rectangle(552, 440, 1104, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_27_0.id] = "tile_level_27_0";
  _sprites["tile_level_27_0"] = { sprite: _spr_tile_level_27_0, body: _body_tile_level_27_0, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_27_73 = new PIXI.Graphics();
  _spr_tile_level_27_73.rect(-496.0, -8.0, 992, 16);
  _spr_tile_level_27_73.fill({ color: 0x4a9eff });
  _spr_tile_level_27_73.x = 1664;
  _spr_tile_level_27_73.y = 440;
  _spr_tile_level_27_73.alpha = 0;
  _spr_tile_level_27_73.visible = false;
  _cameraContainer.addChild(_spr_tile_level_27_73);
  const _body_tile_level_27_73 = Matter.Bodies.rectangle(1664, 440, 992, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_27_73.id] = "tile_level_27_73";
  _sprites["tile_level_27_73"] = { sprite: _spr_tile_level_27_73, body: _body_tile_level_27_73, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_tile_level_27_139 = new PIXI.Graphics();
  _spr_tile_level_27_139.rect(-584.0, -8.0, 1168, 16);
  _spr_tile_level_27_139.fill({ color: 0x4a9eff });
  _spr_tile_level_27_139.x = 2808;
  _spr_tile_level_27_139.y = 440;
  _spr_tile_level_27_139.alpha = 0;
  _spr_tile_level_27_139.visible = false;
  _cameraContainer.addChild(_spr_tile_level_27_139);
  const _body_tile_level_27_139 = Matter.Bodies.rectangle(2808, 440, 1168, 16, { isStatic: true, restitution: 0, friction: 1, slop: 0.01 });
  _bodyToSprite[_body_tile_level_27_139.id] = "tile_level_27_139";
  _sprites["tile_level_27_139"] = { sprite: _spr_tile_level_27_139, body: _body_tile_level_27_139, tag: "tilemap-collision", collisionHandlers: [], behaviors: [] };

  const _spr_mario = PIXI.Sprite.from("player.png");
  _spr_mario.x = 40;
  _spr_mario.y = 400;
  _spr_mario.anchor.set(0.5, 0.5);
  _spr_mario.width = 16;
  _spr_mario.height = 32;
  _cameraContainer.addChild(_spr_mario);
  const _body_mario = Matter.Bodies.rectangle(40, 400, 16, 32, { isStatic: false, restitution: 0, friction: 0.8, slop: 0.01, inertia: Infinity, chamfer: { radius: 3 } });
  _bodyToSprite[_body_mario.id] = "mario";
  _sprites["mario"] = { sprite: _spr_mario, body: _body_mario, tag: "player", collisionHandlers: [], behaviors: [] };

  const _spr_goomba1 = PIXI.Sprite.from("goomba.png");
  _spr_goomba1.x = 352;
  _spr_goomba1.y = 408;
  _spr_goomba1.anchor.set(0.5, 0.5);
  _spr_goomba1.width = 16;
  _spr_goomba1.height = 16;
  _cameraContainer.addChild(_spr_goomba1);
  const _body_goomba1 = Matter.Bodies.rectangle(352, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba1.id] = "goomba1";
  _sprites["goomba1"] = { sprite: _spr_goomba1, body: _body_goomba1, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba2 = PIXI.Sprite.from("goomba.png");
  _spr_goomba2.x = 540;
  _spr_goomba2.y = 408;
  _spr_goomba2.anchor.set(0.5, 0.5);
  _spr_goomba2.width = 16;
  _spr_goomba2.height = 16;
  _cameraContainer.addChild(_spr_goomba2);
  const _body_goomba2 = Matter.Bodies.rectangle(540, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba2.id] = "goomba2";
  _sprites["goomba2"] = { sprite: _spr_goomba2, body: _body_goomba2, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba3 = PIXI.Sprite.from("goomba.png");
  _spr_goomba3.x = 640;
  _spr_goomba3.y = 408;
  _spr_goomba3.anchor.set(0.5, 0.5);
  _spr_goomba3.width = 16;
  _spr_goomba3.height = 16;
  _cameraContainer.addChild(_spr_goomba3);
  const _body_goomba3 = Matter.Bodies.rectangle(640, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba3.id] = "goomba3";
  _sprites["goomba3"] = { sprite: _spr_goomba3, body: _body_goomba3, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba4 = PIXI.Sprite.from("goomba.png");
  _spr_goomba4.x = 880;
  _spr_goomba4.y = 408;
  _spr_goomba4.anchor.set(0.5, 0.5);
  _spr_goomba4.width = 16;
  _spr_goomba4.height = 16;
  _cameraContainer.addChild(_spr_goomba4);
  const _body_goomba4 = Matter.Bodies.rectangle(880, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba4.id] = "goomba4";
  _sprites["goomba4"] = { sprite: _spr_goomba4, body: _body_goomba4, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba5 = PIXI.Sprite.from("goomba.png");
  _spr_goomba5.x = 1200;
  _spr_goomba5.y = 408;
  _spr_goomba5.anchor.set(0.5, 0.5);
  _spr_goomba5.width = 16;
  _spr_goomba5.height = 16;
  _cameraContainer.addChild(_spr_goomba5);
  const _body_goomba5 = Matter.Bodies.rectangle(1200, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba5.id] = "goomba5";
  _sprites["goomba5"] = { sprite: _spr_goomba5, body: _body_goomba5, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba6 = PIXI.Sprite.from("goomba.png");
  _spr_goomba6.x = 1500;
  _spr_goomba6.y = 408;
  _spr_goomba6.anchor.set(0.5, 0.5);
  _spr_goomba6.width = 16;
  _spr_goomba6.height = 16;
  _cameraContainer.addChild(_spr_goomba6);
  const _body_goomba6 = Matter.Bodies.rectangle(1500, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba6.id] = "goomba6";
  _sprites["goomba6"] = { sprite: _spr_goomba6, body: _body_goomba6, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba7 = PIXI.Sprite.from("goomba.png");
  _spr_goomba7.x = 1800;
  _spr_goomba7.y = 408;
  _spr_goomba7.anchor.set(0.5, 0.5);
  _spr_goomba7.width = 16;
  _spr_goomba7.height = 16;
  _cameraContainer.addChild(_spr_goomba7);
  const _body_goomba7 = Matter.Bodies.rectangle(1800, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba7.id] = "goomba7";
  _sprites["goomba7"] = { sprite: _spr_goomba7, body: _body_goomba7, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_goomba8 = PIXI.Sprite.from("goomba.png");
  _spr_goomba8.x = 2400;
  _spr_goomba8.y = 408;
  _spr_goomba8.anchor.set(0.5, 0.5);
  _spr_goomba8.width = 16;
  _spr_goomba8.height = 16;
  _cameraContainer.addChild(_spr_goomba8);
  const _body_goomba8 = Matter.Bodies.rectangle(2400, 408, 16, 16, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_goomba8.id] = "goomba8";
  _sprites["goomba8"] = { sprite: _spr_goomba8, body: _body_goomba8, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_koopa1 = PIXI.Sprite.from("koopa.png");
  _spr_koopa1.x = 700;
  _spr_koopa1.y = 404;
  _spr_koopa1.anchor.set(0.5, 0.5);
  _spr_koopa1.width = 16;
  _spr_koopa1.height = 24;
  _cameraContainer.addChild(_spr_koopa1);
  const _body_koopa1 = Matter.Bodies.rectangle(700, 404, 16, 24, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_koopa1.id] = "koopa1";
  _sprites["koopa1"] = { sprite: _spr_koopa1, body: _body_koopa1, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_koopa2 = PIXI.Sprite.from("koopa.png");
  _spr_koopa2.x = 1100;
  _spr_koopa2.y = 404;
  _spr_koopa2.anchor.set(0.5, 0.5);
  _spr_koopa2.width = 16;
  _spr_koopa2.height = 24;
  _cameraContainer.addChild(_spr_koopa2);
  const _body_koopa2 = Matter.Bodies.rectangle(1100, 404, 16, 24, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_koopa2.id] = "koopa2";
  _sprites["koopa2"] = { sprite: _spr_koopa2, body: _body_koopa2, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_koopa3 = PIXI.Sprite.from("koopa.png");
  _spr_koopa3.x = 1700;
  _spr_koopa3.y = 404;
  _spr_koopa3.anchor.set(0.5, 0.5);
  _spr_koopa3.width = 16;
  _spr_koopa3.height = 24;
  _cameraContainer.addChild(_spr_koopa3);
  const _body_koopa3 = Matter.Bodies.rectangle(1700, 404, 16, 24, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_koopa3.id] = "koopa3";
  _sprites["koopa3"] = { sprite: _spr_koopa3, body: _body_koopa3, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_koopa4 = PIXI.Sprite.from("koopa.png");
  _spr_koopa4.x = 2200;
  _spr_koopa4.y = 404;
  _spr_koopa4.anchor.set(0.5, 0.5);
  _spr_koopa4.width = 16;
  _spr_koopa4.height = 24;
  _cameraContainer.addChild(_spr_koopa4);
  const _body_koopa4 = Matter.Bodies.rectangle(2200, 404, 16, 24, { isStatic: false, restitution: 0, friction: 0.3, slop: 0.01, inertia: Infinity });
  _bodyToSprite[_body_koopa4.id] = "koopa4";
  _sprites["koopa4"] = { sprite: _spr_koopa4, body: _body_koopa4, tag: "enemy", collisionHandlers: [], behaviors: [] };

  const _spr_qb1 = PIXI.Sprite.from("qblock_tile.png");
  _spr_qb1.x = 328;
  _spr_qb1.y = 328;
  _spr_qb1.anchor.set(0.5, 0.5);
  _spr_qb1.width = 16;
  _spr_qb1.height = 16;
  _cameraContainer.addChild(_spr_qb1);
  const _body_qb1 = Matter.Bodies.rectangle(328, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_qb1.id] = "qb1";
  _sprites["qb1"] = { sprite: _spr_qb1, body: _body_qb1, tag: "qblock", collisionHandlers: [], behaviors: [] };

  const _spr_qb2 = PIXI.Sprite.from("qblock_tile.png");
  _spr_qb2.x = 1240;
  _spr_qb2.y = 328;
  _spr_qb2.anchor.set(0.5, 0.5);
  _spr_qb2.width = 16;
  _spr_qb2.height = 16;
  _cameraContainer.addChild(_spr_qb2);
  const _body_qb2 = Matter.Bodies.rectangle(1240, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_qb2.id] = "qb2";
  _sprites["qb2"] = { sprite: _spr_qb2, body: _body_qb2, tag: "qblock", collisionHandlers: [], behaviors: [] };

  const _spr_qb3 = PIXI.Sprite.from("qblock_tile.png");
  _spr_qb3.x = 1272;
  _spr_qb3.y = 328;
  _spr_qb3.anchor.set(0.5, 0.5);
  _spr_qb3.width = 16;
  _spr_qb3.height = 16;
  _cameraContainer.addChild(_spr_qb3);
  const _body_qb3 = Matter.Bodies.rectangle(1272, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_qb3.id] = "qb3";
  _sprites["qb3"] = { sprite: _spr_qb3, body: _body_qb3, tag: "qblock", collisionHandlers: [], behaviors: [] };

  const _spr_qb4 = PIXI.Sprite.from("qblock_tile.png");
  _spr_qb4.x = 1624;
  _spr_qb4.y = 328;
  _spr_qb4.anchor.set(0.5, 0.5);
  _spr_qb4.width = 16;
  _spr_qb4.height = 16;
  _cameraContainer.addChild(_spr_qb4);
  const _body_qb4 = Matter.Bodies.rectangle(1624, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_qb4.id] = "qb4";
  _sprites["qb4"] = { sprite: _spr_qb4, body: _body_qb4, tag: "qblock", collisionHandlers: [], behaviors: [] };

  const _spr_brick1 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick1.x = 264;
  _spr_brick1.y = 328;
  _spr_brick1.anchor.set(0.5, 0.5);
  _spr_brick1.width = 16;
  _spr_brick1.height = 16;
  _cameraContainer.addChild(_spr_brick1);
  const _body_brick1 = Matter.Bodies.rectangle(264, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick1.id] = "brick1";
  _sprites["brick1"] = { sprite: _spr_brick1, body: _body_brick1, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick2 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick2.x = 280;
  _spr_brick2.y = 328;
  _spr_brick2.anchor.set(0.5, 0.5);
  _spr_brick2.width = 16;
  _spr_brick2.height = 16;
  _cameraContainer.addChild(_spr_brick2);
  const _body_brick2 = Matter.Bodies.rectangle(280, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick2.id] = "brick2";
  _sprites["brick2"] = { sprite: _spr_brick2, body: _body_brick2, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick3 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick3.x = 296;
  _spr_brick3.y = 328;
  _spr_brick3.anchor.set(0.5, 0.5);
  _spr_brick3.width = 16;
  _spr_brick3.height = 16;
  _cameraContainer.addChild(_spr_brick3);
  const _body_brick3 = Matter.Bodies.rectangle(296, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick3.id] = "brick3";
  _sprites["brick3"] = { sprite: _spr_brick3, body: _body_brick3, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick4 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick4.x = 1224;
  _spr_brick4.y = 328;
  _spr_brick4.anchor.set(0.5, 0.5);
  _spr_brick4.width = 16;
  _spr_brick4.height = 16;
  _cameraContainer.addChild(_spr_brick4);
  const _body_brick4 = Matter.Bodies.rectangle(1224, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick4.id] = "brick4";
  _sprites["brick4"] = { sprite: _spr_brick4, body: _body_brick4, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick5 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick5.x = 1256;
  _spr_brick5.y = 328;
  _spr_brick5.anchor.set(0.5, 0.5);
  _spr_brick5.width = 16;
  _spr_brick5.height = 16;
  _cameraContainer.addChild(_spr_brick5);
  const _body_brick5 = Matter.Bodies.rectangle(1256, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick5.id] = "brick5";
  _sprites["brick5"] = { sprite: _spr_brick5, body: _body_brick5, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick6 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick6.x = 1288;
  _spr_brick6.y = 328;
  _spr_brick6.anchor.set(0.5, 0.5);
  _spr_brick6.width = 16;
  _spr_brick6.height = 16;
  _cameraContainer.addChild(_spr_brick6);
  const _body_brick6 = Matter.Bodies.rectangle(1288, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick6.id] = "brick6";
  _sprites["brick6"] = { sprite: _spr_brick6, body: _body_brick6, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick7 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick7.x = 1240;
  _spr_brick7.y = 264;
  _spr_brick7.anchor.set(0.5, 0.5);
  _spr_brick7.width = 16;
  _spr_brick7.height = 16;
  _cameraContainer.addChild(_spr_brick7);
  const _body_brick7 = Matter.Bodies.rectangle(1240, 264, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick7.id] = "brick7";
  _sprites["brick7"] = { sprite: _spr_brick7, body: _body_brick7, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick8 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick8.x = 1256;
  _spr_brick8.y = 264;
  _spr_brick8.anchor.set(0.5, 0.5);
  _spr_brick8.width = 16;
  _spr_brick8.height = 16;
  _cameraContainer.addChild(_spr_brick8);
  const _body_brick8 = Matter.Bodies.rectangle(1256, 264, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick8.id] = "brick8";
  _sprites["brick8"] = { sprite: _spr_brick8, body: _body_brick8, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick9 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick9.x = 1272;
  _spr_brick9.y = 264;
  _spr_brick9.anchor.set(0.5, 0.5);
  _spr_brick9.width = 16;
  _spr_brick9.height = 16;
  _cameraContainer.addChild(_spr_brick9);
  const _body_brick9 = Matter.Bodies.rectangle(1272, 264, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick9.id] = "brick9";
  _sprites["brick9"] = { sprite: _spr_brick9, body: _body_brick9, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick10 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick10.x = 1608;
  _spr_brick10.y = 328;
  _spr_brick10.anchor.set(0.5, 0.5);
  _spr_brick10.width = 16;
  _spr_brick10.height = 16;
  _cameraContainer.addChild(_spr_brick10);
  const _body_brick10 = Matter.Bodies.rectangle(1608, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick10.id] = "brick10";
  _sprites["brick10"] = { sprite: _spr_brick10, body: _body_brick10, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick11 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick11.x = 1640;
  _spr_brick11.y = 328;
  _spr_brick11.anchor.set(0.5, 0.5);
  _spr_brick11.width = 16;
  _spr_brick11.height = 16;
  _cameraContainer.addChild(_spr_brick11);
  const _body_brick11 = Matter.Bodies.rectangle(1640, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick11.id] = "brick11";
  _sprites["brick11"] = { sprite: _spr_brick11, body: _body_brick11, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_brick12 = PIXI.Sprite.from("brick_tile.png");
  _spr_brick12.x = 1656;
  _spr_brick12.y = 328;
  _spr_brick12.anchor.set(0.5, 0.5);
  _spr_brick12.width = 16;
  _spr_brick12.height = 16;
  _cameraContainer.addChild(_spr_brick12);
  const _body_brick12 = Matter.Bodies.rectangle(1656, 328, 16, 16, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01 });
  _bodyToSprite[_body_brick12.id] = "brick12";
  _sprites["brick12"] = { sprite: _spr_brick12, body: _body_brick12, tag: "brick", collisionHandlers: [], behaviors: [] };

  const _spr_flagpole = new PIXI.Graphics();
  _spr_flagpole.rect(-2.0, -80.0, 4.0, 160.0);
  _spr_flagpole.fill({ color: 0x808080 });
  _spr_flagpole.x = 3280;
  _spr_flagpole.y = 336;
  _cameraContainer.addChild(_spr_flagpole);
  const _body_flagpole = Matter.Bodies.rectangle(3280, 336, 4, 160, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01, isSensor: true });
  _bodyToSprite[_body_flagpole.id] = "flagpole";
  _sprites["flagpole"] = { sprite: _spr_flagpole, body: _body_flagpole, tag: "flagpole", collisionHandlers: [], behaviors: [] };

  const _spr_deathzone = new PIXI.Graphics();
  _spr_deathzone.rect(-1696.0, -16.0, 3392.0, 32.0);
  _spr_deathzone.fill({ color: 0x000000 });
  _spr_deathzone.x = 1696;
  _spr_deathzone.y = 480;
  _spr_deathzone.visible = false;
  _cameraContainer.addChild(_spr_deathzone);
  const _body_deathzone = Matter.Bodies.rectangle(1696, 480, 3392, 32, { isStatic: true, restitution: 0.1, friction: 0.1, slop: 0.01, isSensor: true });
  _bodyToSprite[_body_deathzone.id] = "deathzone";
  _sprites["deathzone"] = { sprite: _spr_deathzone, body: _body_deathzone, tag: "deathzone", collisionHandlers: [], behaviors: [] };

  Matter.Composite.add(mWorld, [_body_tile_level_17_193, _body_tile_level_18_192, _body_tile_level_19_191, _body_tile_level_20_190, _body_tile_level_21_189, _body_tile_level_22_58, _body_tile_level_22_188, _body_tile_level_23_38, _body_tile_level_23_58, _body_tile_level_23_187, _body_tile_level_24_28, _body_tile_level_24_38, _body_tile_level_24_58, _body_tile_level_24_186, _body_tile_level_25_28, _body_tile_level_25_38, _body_tile_level_25_58, _body_tile_level_25_185, _body_tile_level_26_0, _body_tile_level_26_73, _body_tile_level_26_139, _body_tile_level_27_0, _body_tile_level_27_73, _body_tile_level_27_139, _body_mario, _body_goomba1, _body_goomba2, _body_goomba3, _body_goomba4, _body_goomba5, _body_goomba6, _body_goomba7, _body_goomba8, _body_koopa1, _body_koopa2, _body_koopa3, _body_koopa4, _body_qb1, _body_qb2, _body_qb3, _body_qb4, _body_brick1, _body_brick2, _body_brick3, _body_brick4, _body_brick5, _body_brick6, _body_brick7, _body_brick8, _body_brick9, _body_brick10, _body_brick11, _body_brick12, _body_flagpole, _body_deathzone]);

  function syncPhysics() {
    for (const [id, info] of Object.entries(_sprites)) {
      if (info.body && !info.body.isStatic) {
        info.sprite.x = info.body.position.x;
        info.sprite.y = info.body.position.y;
        info.sprite.rotation = info.body.angle;
      }
    }
  }

  // === GAME API ===
  // Game API
  const game = { camera: {} };

  game.destroy = function(info) {
    if (!info) {
      return;
    }
    // Find sprite id
    let spriteId = null;
    for (const [id, entry] of Object.entries(_sprites)) {
      if (entry === info || entry.sprite === info) {
        spriteId = id;
        break;
      }
    }
    if (!spriteId) {
      return;
    }
    const entry = _sprites[spriteId];
    if (entry.sprite && entry.sprite.parent) {
      entry.sprite.parent.removeChild(entry.sprite);
    }
    if (entry.body) {
      Matter.Composite.remove(mWorld, entry.body);
    }
    delete _sprites[spriteId];
  };

  game.play = function(soundId, opts) {
    if (typeof _playSound === 'function') {
      return _playSound(soundId, opts);
    }
  };

  game.stop = function(soundId) {
    if (typeof _stopSound === 'function') {
      _stopSound(soundId);
    }
  };

  game.emit = function(info, event) {
    _gameEvents.emit(event, info);
    if (info && info.tag) {
      _gameEvents.emit(info.tag + '.' + event, info);
    }
  };

  game.loadScene = function(name) {
    if (typeof _loadScene === 'function') {
      _loadScene(name);
    }
  };

  game.respawn = function(id, x, y) {
    const info = _sprites[id];
    if (!info) {
      return;
    }
    if (info.sprite) {
      info.sprite.x = x;
      info.sprite.y = y;
      info.sprite.visible = true;
    }
    if (info.body) {
      Matter.Body.setPosition(info.body, { x: x, y: y });
      Matter.Body.setVelocity(info.body, { x: 0, y: 0 });
    }
  };

  game.destroyGroup = function(groupName) {
    const toRemove = [];
    for (const [id, info] of Object.entries(_sprites)) {
      if (info.group === groupName) {
        toRemove.push(info);
      }
    }
    for (const info of toRemove) {
      game.destroy(info);
    }
  };

  game.moveX = function(info, dx) {
    if (info && info.body) {
      Matter.Body.setVelocity(info.body, { x: dx, y: info.body.velocity.y });
    }
  };

  game.moveToward = function(info, targetId, speed) {
    if (!info || !info.body) {
      return;
    }
    const target = _sprites[targetId];
    if (!target) {
      return;
    }
    const dx = target.sprite.x - info.sprite.x;
    const dy = target.sprite.y - info.sprite.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    if (dist < 1) {
      return;
    }
    Matter.Body.setVelocity(info.body, { x: (dx / dist) * speed, y: (dy / dist) * speed });
  };

  game.patrol = function(info, speed) {
    game.moveX(info, speed);
  };

  game.camera.shake = function(intensity, duration) {
    let _shakeFrames = Math.floor((duration || 0.3) * 60);
    const _shakeIntensity = intensity || 5;
    const origX = _cameraContainer.x;
    const origY = _cameraContainer.y;
    const _shakeTick = () => {
      if (_shakeFrames <= 0) {
        _cameraContainer.x = origX;
        _cameraContainer.y = origY;
        return;
      }
      _cameraContainer.x = origX + (Math.random() - 0.5) * _shakeIntensity * 2;
      _cameraContainer.y = origY + (Math.random() - 0.5) * _shakeIntensity * 2;
      _shakeFrames--;
      requestAnimationFrame(_shakeTick);
    };
    _shakeTick();
  };

  game.spawn = function(id) {
    if (typeof _spawn === 'function') {
      _spawn(id);
    }
  };

  // === BEHAVIOR ATTACHMENTS ===
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "enemy") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onEnemyHit) { b._other = other; b.onEnemyHit(other); }
  });
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "coin") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onCoinGet) { b._other = other; b.onCoinGet(other); }
  });
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "qblock") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onBlockHit) { b._other = other; b.onBlockHit(other); }
  });
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "brick") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onBlockHit) { b._other = other; b.onBlockHit(other); }
  });
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "deathzone") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onDeath) { b._other = other; b.onDeath(other); }
  });
  _sprites["mario"].behaviors.push(new MarioBehavior(_sprites["mario"], {}));
  _sprites["mario"].collisionHandlers.push((self, other) => {
    if (other.tag !== "flagpole") return;
    const b = self.behaviors.find(b => b instanceof MarioBehavior);
    if (b && b.onWin) { b._other = other; b.onWin(other); }
  });
  _sprites["goomba1"].behaviors.push(new GoombaAI(_sprites["goomba1"], {}));
  _sprites["goomba1"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba2"].behaviors.push(new GoombaAI(_sprites["goomba2"], {}));
  _sprites["goomba2"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba3"].behaviors.push(new GoombaAI(_sprites["goomba3"], {}));
  _sprites["goomba3"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba4"].behaviors.push(new GoombaAI(_sprites["goomba4"], {}));
  _sprites["goomba4"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba5"].behaviors.push(new GoombaAI(_sprites["goomba5"], {}));
  _sprites["goomba5"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba6"].behaviors.push(new GoombaAI(_sprites["goomba6"], {}));
  _sprites["goomba6"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba7"].behaviors.push(new GoombaAI(_sprites["goomba7"], {}));
  _sprites["goomba7"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["goomba8"].behaviors.push(new GoombaAI(_sprites["goomba8"], {}));
  _sprites["goomba8"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof GoombaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["koopa1"].behaviors.push(new KoopaAI(_sprites["koopa1"], {}));
  _sprites["koopa1"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof KoopaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["koopa2"].behaviors.push(new KoopaAI(_sprites["koopa2"], {}));
  _sprites["koopa2"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof KoopaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["koopa3"].behaviors.push(new KoopaAI(_sprites["koopa3"], {}));
  _sprites["koopa3"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof KoopaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["koopa4"].behaviors.push(new KoopaAI(_sprites["koopa4"], {}));
  _sprites["koopa4"].collisionHandlers.push((self, other) => {
    if (other.tag !== "tilemap-collision") return;
    const b = self.behaviors.find(b => b instanceof KoopaAI);
    if (b && b.onWall) { b._other = other; b.onWall(other); }
  });
  _sprites["qb1"].behaviors.push(new QBlock(_sprites["qb1"], {}));
  _sprites["qb1"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof QBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["qb2"].behaviors.push(new QBlock(_sprites["qb2"], {}));
  _sprites["qb2"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof QBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["qb3"].behaviors.push(new QBlock(_sprites["qb3"], {}));
  _sprites["qb3"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof QBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["qb4"].behaviors.push(new QBlock(_sprites["qb4"], {}));
  _sprites["qb4"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof QBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick1"].behaviors.push(new BrickBlock(_sprites["brick1"], {}));
  _sprites["brick1"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick2"].behaviors.push(new BrickBlock(_sprites["brick2"], {}));
  _sprites["brick2"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick3"].behaviors.push(new BrickBlock(_sprites["brick3"], {}));
  _sprites["brick3"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick4"].behaviors.push(new BrickBlock(_sprites["brick4"], {}));
  _sprites["brick4"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick5"].behaviors.push(new BrickBlock(_sprites["brick5"], {}));
  _sprites["brick5"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick6"].behaviors.push(new BrickBlock(_sprites["brick6"], {}));
  _sprites["brick6"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick7"].behaviors.push(new BrickBlock(_sprites["brick7"], {}));
  _sprites["brick7"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick8"].behaviors.push(new BrickBlock(_sprites["brick8"], {}));
  _sprites["brick8"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick9"].behaviors.push(new BrickBlock(_sprites["brick9"], {}));
  _sprites["brick9"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick10"].behaviors.push(new BrickBlock(_sprites["brick10"], {}));
  _sprites["brick10"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick11"].behaviors.push(new BrickBlock(_sprites["brick11"], {}));
  _sprites["brick11"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  _sprites["brick12"].behaviors.push(new BrickBlock(_sprites["brick12"], {}));
  _sprites["brick12"].collisionHandlers.push((self, other) => {
    if (other.tag !== "player") return;
    const b = self.behaviors.find(b => b instanceof BrickBlock);
    if (b && b.onHit) { b._other = other; b.onHit(other); }
  });
  // Init state machines
  for (const [_id, _info] of Object.entries(_sprites)) {
    for (const b of _info.behaviors) {
      if (b._smInit) {
        b._smInit();
      }
    }
  }

  // === ANIMATION REGISTRATION ===
  _registerAnimation("mario", PIXI.Assets.get("player.png"), 16, 32, { "idle": { frames: "0", speed: 0.1, loop: true, autoPlay: true }, "walk": { frames: "1-2", speed: 0.15, loop: true, autoPlay: false }, "jump": { frames: "3", speed: 0.1, loop: false, autoPlay: false } });
  _registerAnimation("goomba1", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba2", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba3", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba4", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba5", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba6", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba7", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("goomba8", PIXI.Assets.get("goomba.png"), 16, 16, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("koopa1", PIXI.Assets.get("koopa.png"), 16, 24, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("koopa2", PIXI.Assets.get("koopa.png"), 16, 24, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("koopa3", PIXI.Assets.get("koopa.png"), 16, 24, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });
  _registerAnimation("koopa4", PIXI.Assets.get("koopa.png"), 16, 24, { "walk": { frames: "0-1", speed: 0.2, loop: true, autoPlay: true } });

  // === INPUT ===
  const _keys = {};
  const _justPressed = {};
  window.addEventListener('keydown', (e) => {
    if (!_keys[e.key]) _justPressed[e.key] = true;
    _keys[e.key] = true;
  });
  window.addEventListener('keyup', (e) => {
    _keys[e.key] = false;
  });
  function _clearJustPressed() {
    for (const k in _justPressed) delete _justPressed[k];
  }
  const _controlledSprites = {};
  _controlledSprites["mario"] = { left: 'ArrowLeft', right: 'ArrowRight', up: 'ArrowUp', jump: 'ArrowUp', left2: 'a', right2: 'd', up2: 'w', jump2: 'w' };

  // === MOUSE ===
  // Mouse System
  let _mouseX = 0;
  let _mouseY = 0;
  let _mouseWorldX = 0;
  let _mouseWorldY = 0;
  app.canvas.addEventListener('pointermove', (e) => {
    const rect = app.canvas.getBoundingClientRect();
    _mouseX = e.clientX - rect.left;
    _mouseY = e.clientY - rect.top;
    // Convert to world coordinates (accounting for camera)
    _mouseWorldX = _mouseX - _cameraContainer.x;
    _mouseWorldY = _mouseY - _cameraContainer.y;
  });

  // === FUNCTIONS ===
  function restart() {
    game.respawn("mario", 40, 400);
    score = 0;
    coins = 0;
    lives = 3;
    gameOver = false;
    won = false;
    _updateHUD();
  }


  // === COLLISIONS ===
  Matter.Events.on(mEngine, 'collisionStart', (event) => {
    for (const pair of event.pairs) {
      const a = _bodyToSprite[pair.bodyA.id];
      const b = _bodyToSprite[pair.bodyB.id];
      if (a && b) {
        _handleCollision(a, b);
        _handleCollision(b, a);
      }
    }
  });

  function _handleCollision(selfId, otherId) {
    const selfInfo = _sprites[selfId];
    const otherInfo = _sprites[otherId];
    if (!selfInfo || !otherInfo) {
      return;
    }
    if (selfInfo.collisionHandlers) {
      for (const handler of selfInfo.collisionHandlers) {
        handler(selfInfo, otherInfo);
      }
    }
  }

  // === SOUNDS ===
  // Audio System
  const _sounds = {};
  let _audioCtx = null;
  let _audioUnlocked = false;
  const _pendingSounds = [];

  function _initAudio() {
    if (_audioCtx) {
      return;
    }
    _audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    // Unlock audio on any user interaction
    const unlockEvents = ['click', 'keydown', 'touchstart', 'pointerdown'];
    function _unlock() {
      if (_audioUnlocked) {
        return;
      }
      if (_audioCtx.state === 'suspended') {
        _audioCtx.resume().then(() => {
          _audioUnlocked = true;
          // Play any queued sounds
          while (_pendingSounds.length > 0) {
            const pending = _pendingSounds.shift();
            const _psrc = _doPlaySound(pending.id, pending.opts);
            if (_psrc) {
              _activeSources[pending.id] = _psrc;
              _psrc.onended = function() { if (_activeSources[pending.id] === _psrc) delete _activeSources[pending.id]; };
            }
          }
        });
      } else {
        _audioUnlocked = true;
      }
      for (const evt of unlockEvents) {
        document.removeEventListener(evt, _unlock);
      }
    }

    for (const evt of unlockEvents) {
      document.addEventListener(evt, _unlock, { once: false });
    }
  }

  async function _loadSound(id, url) {
    _initAudio();
    try {
      const resp = await fetch(url);
      const buf = await resp.arrayBuffer();
      _sounds[id] = await _audioCtx.decodeAudioData(buf);
    }
    catch(e) {
      console.warn('Sound load failed:', id, e);
    }
  }

  function _doPlaySound(id, opts) {
    opts = opts || {};
    const buf = _sounds[id];
    if (!buf) {
      return;
    }
    const src = _audioCtx.createBufferSource();
    src.buffer = buf;
    const gain = _audioCtx.createGain();
    gain.gain.value = opts.volume !== undefined ? opts.volume : 1;
    src.connect(gain).connect(_audioCtx.destination);
    src.loop = !!opts.loop;
    src.start(0);
    return src;
  }

  const _activeSources = {};

  function _playSound(id, opts) {
    if (!_audioUnlocked) {
      _pendingSounds.push({ id: id, opts: opts });
      return;
    }
    const src = _doPlaySound(id, opts);
    if (src) {
      _activeSources[id] = src;
      src.onended = function() { if (_activeSources[id] === src) delete _activeSources[id]; };
    }
    return src;
  }

  function _stopSound(id) {
    const src = _activeSources[id];
    if (src) {
      try {
        src.stop();
      }
      catch(e) {
      }
      delete _activeSources[id];
    }
  }
  await _loadSound("theme_bgm", "theme.wav");
  await _loadSound("jump_sfx", "jump.wav");
  await _loadSound("coin_sfx", "coin.wav");
  await _loadSound("powerup_sfx", "powerup.wav");
  await _loadSound("fanfare_sfx", "fanfare.wav");

  // === PARTICLES ===
  // Particle System
  const _particleSystems = {};

  function _createParticleSystem(config) {
    const ps = {
      id: config.id,
      follow: config.follow || null,
      trigger: config.trigger || null,
      count: config.count || 20,
      emitRate: config.emitRate || 10,
      lifetime: config.lifetime || 1,
      speedMin: config.speedMin || 1,
      speedMax: config.speedMax || 3,
      angleMin: (config.angleMin || 0) * Math.PI / 180,
      angleMax: (config.angleMax || 360) * Math.PI / 180,
      alphaStart: config.alphaStart !== undefined ? config.alphaStart : 1,
      alphaEnd: config.alphaEnd !== undefined ? config.alphaEnd : 0,
      active: false,
      emitTimer: 0,
      pool: [],
      container: new PIXI.Container(),
    };

    // Pre-allocate particle pool
    for (let i = 0; i <= ps.count - 1; i += 1) {
      const p = new PIXI.Graphics();
      p.circle(0, 0, 3);
      p.fill({ color: 0xffffff });
      p.visible = false;
      p._life = 0; p._maxLife = 0; p._vx = 0; p._vy = 0;
      p._alphaStart = 1; p._alphaEnd = 0;
      ps.container.addChild(p);
      ps.pool.push(p);
    }

    _cameraContainer.addChild(ps.container);
    _particleSystems[config.id] = ps;
    return ps;
  }

  function _emitParticle(ps, x, y) {
    for (const p of ps.pool) {
      if (!p.visible) {
        p.x = x;
        p.y = y;
        const angle = ps.angleMin + Math.random() * (ps.angleMax - ps.angleMin);
        const speed = ps.speedMin + Math.random() * (ps.speedMax - ps.speedMin);
        p._vx = Math.cos(angle) * speed;
        p._vy = Math.sin(angle) * speed;
        p._life = 0;
        p._maxLife = ps.lifetime;
        p._alphaStart = ps.alphaStart;
        p._alphaEnd = ps.alphaEnd;
        p.alpha = ps.alphaStart;
        p.visible = true;
        return;
      }
    }
  }

  function _activateParticles(psId) {
    const ps = _particleSystems[psId];
    if (ps) {
      ps.active = true;
    }
  }

  function _deactivateParticles(psId) {
    const ps = _particleSystems[psId];
    if (ps) {
      ps.active = false;
    }
  }

  function _updateParticles(dt) {
    for (const [id, ps] of Object.entries(_particleSystems)) {
      // Emit new particles if active
      if (ps.active) {
        ps.emitTimer += dt / 60;
        const interval = 1 / ps.emitRate;
        while (ps.emitTimer >= interval) {
          ps.emitTimer -= interval;
          let ex = 0;
          let ey = 0;
          if (ps.follow) {
            const info = _sprites[ps.follow];
            if (info) {
              ex = info.sprite.x;
              ey = info.sprite.y;
            }
          }
          _emitParticle(ps, ex, ey);
        }
      }

      // Update living particles
      for (const p of ps.pool) {
        if (!p.visible) {
          continue;
        }
        p._life += dt / 60;
        if (p._life >= p._maxLife) {
          p.visible = false;
          continue;
        }
        const lifeT = p._life / p._maxLife;
        p.x = p.x + p._vx;
        p.y = p.y + p._vy;
        p.alpha = p._alphaStart + (p._alphaEnd - p._alphaStart) * lifeT;
      }
    }
  }
  // No particle instances

  // === TIMERS ===
  // Timer System
  const _timers = {};
  const _timerActions = {};

  function _createTimer(id, interval, repeat, autoStart, actionFn) {
    _timers[id] = { elapsed: 0, interval: interval, repeat: repeat, count: 0, active: autoStart };
    _timerActions[id] = actionFn;
  }

  function _updateTimers(dt) {
    for (const [tid, t] of Object.entries(_timers)) {
      if (!t.active) {
        continue;
      }
      t.elapsed += dt / 60;
      if (t.elapsed >= t.interval) {
        t.elapsed = 0;
        if (_timerActions[tid]) {
          _timerActions[tid]();
        }
        t.count++;
        if (t.repeat >= 0 && t.count >= t.repeat) {
          t.active = false;
        }
      }
    }
  }
  // No timer instances

  // === TWEENS ===
  // Easing Functions
  const _easing = {
    linear: t => t,
    easeIn: t => t * t,
    easeOut: t => t * (2 - t),
    easeInOut: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,
    easeInCubic: t => t * t * t,
    easeOutCubic: t => (--t) * t * t + 1,
    easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,
    easeInQuart: t => t * t * t * t,
    easeOutQuart: t => 1 - (--t) * t * t * t,
    easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t,
    easeOutBounce: t => {
      if (t < 1/2.75) return 7.5625 * t * t;
      if (t < 2/2.75) return 7.5625 * (t -= 1.5/2.75) * t + 0.75;
      if (t < 2.5/2.75) return 7.5625 * (t -= 2.25/2.75) * t + 0.9375;
      return 7.5625 * (t -= 2.625/2.75) * t + 0.984375;
    },
    easeInBounce: t => 1 - _easing.easeOutBounce(1 - t),
    easeOutElastic: t => {
      if (t === 0 || t === 1) return t;
      return Math.pow(2, -10 * t) * Math.sin((t - 0.075) * (2 * Math.PI) / 0.3) + 1;
    },
    easeInElastic: t => {
      if (t === 0 || t === 1) return t;
      return -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.075) * (2 * Math.PI) / 0.3);
    },
  };

  const _tweens = {};
  let _tweenIdCounter = 0;

  function _createTween(config) {
    const id = config.id || ('tween_' + _tweenIdCounter++);
    _tweens[id] = {
      target: config.target,
      prop: config.prop,
      from: null,
      to: config.to,
      duration: config.duration || 1,
      easing: config.easing || 'linear',
      loop: !!config.loop,
      yoyo: !!config.yoyo,
      delay: config.delay || 0,
      elapsed: 0,
      delayElapsed: 0,
      active: config.active !== false,
      started: false,
    };
    return id;
  }

  function _updateTweens(dt) {
    for (const [tid, tw] of Object.entries(_tweens)) {
      if (!tw.active) {
        continue;
      }
      // Handle delay
      if (tw.delayElapsed < tw.delay) {
        tw.delayElapsed += dt / 60;
        continue;
      }
      // Init start value on first frame
      if (!tw.started) {
        const info = _sprites[tw.target];
        if (!info) {
          continue;
        }
        tw.from = info.sprite[tw.prop];
        tw.started = true;
      }
      tw.elapsed += dt / 60;
      const rawT = Math.min(tw.elapsed / tw.duration, 1);
      const easeFn = _easing[tw.easing] || _easing.linear;
      const t = easeFn(rawT);
      const info = _sprites[tw.target];
      if (info) {
        info.sprite[tw.prop] = tw.from + (tw.to - tw.from) * t;
      }
      if (rawT >= 1) {
        if (tw.loop) {
          tw.elapsed = 0;
          if (tw.yoyo) {
            const tmp = tw.from;
            tw.from = tw.to;
            tw.to = tmp;
          }
        } else {
          tw.active = false;
        }
      }
    }
  }
  // No tween instances

  // === SPAWNERS ===
  // No spawners

  // === HUD UPDATE ===
  const _hudElements = [];
  _hudElements.push(document.getElementById('qg-hud-0'));
  _hudElements.push(document.getElementById('qg-hud-1'));
  _hudElements.push(document.getElementById('qg-hud-2'));
  _hudElements.push(document.getElementById('qg-hud-3'));
  function _updateHUD() {
    if (_hudElements[0]) {
      _hudElements[0].textContent = "\n        MARIO  " + String(score) + "\n      ";
    }
    if (_hudElements[1]) {
      _hudElements[1].textContent = "\n        x" + String(coins) + "\n      ";
    }
    if (_hudElements[2]) {
      _hudElements[2].textContent = "\n        WORLD 1-1  LIVES:" + String(lives) + "\n      ";
    }
    if (_hudElements[3]) {
      _hudElements[3].textContent = "\n        " + String(gameOver ? 'GAME OVER' : (won ? 'STAGE CLEAR!' : '')) + "\n      ";
    }
  }

  // === GAME LOOP ===
  app.ticker.add((ticker) => {
    const dt = ticker.deltaTime;
    Matter.Engine.update(mEngine, dt * 16.67);
    syncPhysics();
    // Input handling
    const _ctrl_mario = _controlledSprites["mario"];
    // Movement with dual key support (arrows + WASD)
    const _leftPressed_mario = _keys[_ctrl_mario.left] || (_keys[_ctrl_mario.left2] || false);
    const _rightPressed_mario = _keys[_ctrl_mario.right] || (_keys[_ctrl_mario.right2] || false);
    const _jumpPressed_mario = _keys[_ctrl_mario.jump] || (_keys[_ctrl_mario.jump2] || false);
    const _jumpJust_mario = _justPressed[_ctrl_mario.jump] || (_justPressed[_ctrl_mario.jump2] || false);
    if (_leftPressed_mario && _sprites["mario"].body) {
      Matter.Body.setVelocity(_sprites["mario"].body, { x: -6, y: _sprites["mario"].body.velocity.y });
      _sprites["mario"].sprite.scale.x = -Math.abs(_sprites["mario"].sprite.scale.x);
    }
    if (_rightPressed_mario && _sprites["mario"].body) {
      Matter.Body.setVelocity(_sprites["mario"].body, { x: 6, y: _sprites["mario"].body.velocity.y });
      _sprites["mario"].sprite.scale.x = Math.abs(_sprites["mario"].sprite.scale.x);
    }
    // Variable jump: initiate on press, sustain while held
    if (_jumpJust_mario && _sprites["mario"].body && Math.abs(_sprites["mario"].body.velocity.y) < 5.0) {
      Matter.Body.setVelocity(_sprites["mario"].body, { x: _sprites["mario"].body.velocity.x, y: -20 });
      _sprites["mario"]._jumpFrames = 6;
      _gameEvents.emit('player.jump', _sprites["mario"]);
    }
    // Hold jump to go higher
    if (_jumpPressed_mario && _sprites["mario"].body && _sprites["mario"]._jumpFrames > 0) {
      Matter.Body.setVelocity(_sprites["mario"].body, { x: _sprites["mario"].body.velocity.x, y: _sprites["mario"].body.velocity.y - 0.6 });
      _sprites["mario"]._jumpFrames--;
    }
    if (!_jumpPressed_mario) {
      if (_sprites["mario"]._jumpFrames) _sprites["mario"]._jumpFrames = 0;
    }
    if (!_leftPressed_mario && !_rightPressed_mario && _sprites["mario"].body) {
      Matter.Body.setVelocity(_sprites["mario"].body, { x: 0, y: _sprites["mario"].body.velocity.y });
      _gameEvents.emit('player.stop', _sprites["mario"]);
    } else {
      _gameEvents.emit('player.walk', _sprites["mario"]);
    }
    if (_justPressed["r"] && typeof restart === 'function') {
      restart();
    }
    _clearJustPressed();
    updateCamera();
    _updateControlAnimations();
    // Behaviors update
    for (const [_id, _info] of Object.entries(_sprites)) {
      for (const b of _info.behaviors) {
        if (b._smUpdate) {
          b._smUpdate();
        }
        if (b.update) {
          b.update();
        }
      }
    }
    _updateHUD();
  });

  // === SCENE START ===
  _playSound("theme_bgm", { volume: 0.4, loop: true });
  _gameEvents.on("player.jump", () => _playSound("jump_sfx", { volume: 1, loop: false }));
})();
  </script>
</body>
</html>
