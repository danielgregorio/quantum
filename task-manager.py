"""Quantum UI Desktop App - Generated pywebview Application

This file was generated by the Quantum UI Engine.
It creates a native desktop window using pywebview with
bidirectional Python-JS communication.
"""

import webview
from typing import Dict, Any


class QuantumState:
    """Reactive state container with JS notification."""

    def __init__(self, window_ref):
        self._window = window_ref
        self._state: Dict[str, Any] = {}

    def set(self, name: str, value: Any):
        """Set a state value and notify JS."""
        self._state[name] = value
        self._notify_js(name, value)

    def get(self, name: str, default: Any = None) -> Any:
        """Get a state value."""
        return self._state.get(name, default)

    def _notify_js(self, name: str, value: Any):
        """Push state update to JS."""
        if self._window:
            import json
            js_value = json.dumps(value)
            self._window.evaluate_js(
                f"window.__quantumStateUpdate('{name}', {js_value})"
            )



class QuantumAPI:
    """API exposed to JavaScript via pywebview."""

    def __init__(self):
        self._window = None
        self.state = None

    def _set_window(self, window):
        """Initialize window reference and state."""
        self._window = window
        self.state = QuantumState(window)
        # State initialization
        self.state.set('taskCount', 0)
        self.state.set('completedCount', 0)
        self.state.set('currentFilter', 'all')
        self.state.set('darkMode', False)
        self.state.set('username', 'Usuario')
        self.state.set('notifications', 3)

    def __set_state(self, args):
        """Internal: two-way binding from JS inputs."""
        name = args.get('name') if isinstance(args, dict) else None
        value = args.get('value') if isinstance(args, dict) else None
        if name:
            self.state.set(name, value)

    def addTask(self, args=None):
        """Generated from q:function addTask"""
        self.state.set('taskCount', self.state.get('taskCount') + 1)

    def completeTask(self, args=None):
        """Generated from q:function completeTask"""
        self.state.set('completedCount', self.state.get('completedCount') + 1)

    def clearCompleted(self, args=None):
        """Generated from q:function clearCompleted"""
        self.state.set('completedCount', 0)

    def resetAll(self, args=None):
        """Generated from q:function resetAll"""
        self.state.set('taskCount', 0)
        self.state.set('completedCount', 0)

    def filterAll(self, args=None):
        """Generated from q:function filterAll"""
        self.state.set('currentFilter', self.state.get('all'))

    def filterActive(self, args=None):
        """Generated from q:function filterActive"""
        self.state.set('currentFilter', self.state.get('active'))

    def filterCompleted(self, args=None):
        """Generated from q:function filterCompleted"""
        self.state.set('currentFilter', self.state.get('completed'))

    def toggleDarkMode(self, args=None):
        """Generated from q:function toggleDarkMode"""
        self.state.set('darkMode', self.state.get('darkMode'))

    def dismissNotifications(self, args=None):
        """Generated from q:function dismissNotifications"""
        self.state.set('notifications', 0)

    def saveSettings(self, args=None):
        """Generated from q:function saveSettings"""
        pass

    def exportData(self, args=None):
        """Generated from q:function exportData"""
        pass

    def importData(self, args=None):
        """Generated from q:function importData"""
        pass



def main():
    """Main entry point for the desktop application."""
    html_content = '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>TaskManager</title>\n  <style>\n*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\nhtml { font-size: 16px; line-height: 1.5; -webkit-font-smoothing: antialiased; }\nbody { font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif; }\nimg, picture, video, canvas, svg { display: block; max-width: 100%; }\ninput, button, textarea, select { font: inherit; }\n\n:root {\n  --q-primary: #3b82f6;\n  --q-secondary: #64748b;\n  --q-success: #22c55e;\n  --q-danger: #ef4444;\n  --q-warning: #f59e0b;\n  --q-info: #06b6d4;\n  --q-light: #f8fafc;\n  --q-dark: #1e293b;\n  --q-bg: #ffffff;\n  --q-text: #1e293b;\n  --q-border: #e2e8f0;\n  --q-radius: 6px;\n  --q-shadow: 0 1px 3px rgba(0,0,0,0.1);\n  --q-font-xs: 0.75rem;\n  --q-font-sm: 0.875rem;\n  --q-font-md: 1rem;\n  --q-font-lg: 1.25rem;\n  --q-font-xl: 1.5rem;\n  --q-font-2xl: 2rem;\n}\n\nbody { background: var(--q-bg); color: var(--q-text); min-height: 100vh; }\n\n/* Window */\n.q-window { width: 100%; min-height: 100vh; display: flex; flex-direction: column; }\n\n/* Panel */\n.q-panel { border: 1px solid var(--q-border); border-radius: var(--q-radius); padding: 16px; box-shadow: var(--q-shadow); }\n.q-panel-title { font-weight: 600; margin-bottom: 12px; font-size: var(--q-font-lg); border-bottom: 1px solid var(--q-border); padding-bottom: 8px; }\n\n/* Buttons */\n.q-btn { display: inline-flex; align-items: center; justify-content: center; padding: 8px 16px; border: 1px solid var(--q-border); border-radius: var(--q-radius); cursor: pointer; font-weight: 500; transition: all 0.15s; background: var(--q-bg); }\n.q-btn:hover { opacity: 0.9; }\n.q-btn-primary { background: var(--q-primary); color: white; border-color: var(--q-primary); }\n.q-btn-secondary { background: var(--q-secondary); color: white; border-color: var(--q-secondary); }\n.q-btn-danger { background: var(--q-danger); color: white; border-color: var(--q-danger); }\n.q-btn-success { background: var(--q-success); color: white; border-color: var(--q-success); }\n.q-btn:disabled { opacity: 0.5; cursor: not-allowed; }\n\n/* Inputs */\n.q-input { width: 100%; padding: 8px 12px; border: 1px solid var(--q-border); border-radius: var(--q-radius); outline: none; transition: border-color 0.15s; }\n.q-input:focus { border-color: var(--q-primary); box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }\n\n/* Checkbox / Switch */\n.q-checkbox { display: flex; align-items: center; gap: 8px; cursor: pointer; }\n.q-switch { position: relative; display: inline-flex; align-items: center; gap: 8px; cursor: pointer; }\n.q-switch input { display: none; }\n.q-switch-track { width: 40px; height: 22px; background: var(--q-border); border-radius: 11px; position: relative; transition: background 0.2s; }\n.q-switch input:checked + .q-switch-track { background: var(--q-primary); }\n.q-switch-thumb { width: 18px; height: 18px; background: white; border-radius: 50%; position: absolute; top: 2px; left: 2px; transition: transform 0.2s; }\n.q-switch input:checked + .q-switch-track .q-switch-thumb { transform: translateX(18px); }\n\n/* Table */\n.q-table { width: 100%; border-collapse: collapse; }\n.q-table th, .q-table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid var(--q-border); }\n.q-table th { font-weight: 600; background: var(--q-light); }\n.q-table tr:hover { background: var(--q-light); }\n\n/* Tabs */\n.q-tabs { display: flex; flex-direction: column; }\n.q-tab-headers { display: flex; border-bottom: 2px solid var(--q-border); gap: 0; }\n.q-tab-header { padding: 10px 20px; cursor: pointer; border-bottom: 2px solid transparent; margin-bottom: -2px; font-weight: 500; color: var(--q-secondary); transition: all 0.15s; background: none; border-top: none; border-left: none; border-right: none; }\n.q-tab-header.active { color: var(--q-primary); border-bottom-color: var(--q-primary); }\n.q-tab-content { display: none; padding: 16px 0; }\n.q-tab-content.active { display: block; }\n\n/* Form */\n.q-form { display: flex; flex-direction: column; gap: 16px; }\n.q-formitem { display: flex; flex-direction: row; align-items: center; gap: 12px; }\n.q-formitem-label { min-width: 120px; font-weight: 500; }\n\n/* Badge */\n.q-badge { display: inline-flex; align-items: center; padding: 2px 8px; border-radius: 12px; font-size: var(--q-font-xs); font-weight: 600; background: var(--q-light); color: var(--q-text); }\n.q-badge-primary { background: var(--q-primary); color: white; }\n.q-badge-secondary { background: var(--q-secondary); color: white; }\n.q-badge-success { background: var(--q-success); color: white; }\n.q-badge-danger { background: var(--q-danger); color: white; }\n.q-badge-warning { background: var(--q-warning); color: white; }\n\n/* Loading */\n.q-loading { display: flex; align-items: center; gap: 8px; color: var(--q-secondary); }\n.q-spinner { width: 20px; height: 20px; border: 2px solid var(--q-border); border-top-color: var(--q-primary); border-radius: 50%; animation: q-spin 0.6s linear infinite; }\n@keyframes q-spin { to { transform: rotate(360deg); } }\n\n/* Log */\n.q-log { font-family: \'SF Mono\', \'Fira Code\', monospace; font-size: var(--q-font-sm); background: var(--q-dark); color: #e2e8f0; padding: 12px; border-radius: var(--q-radius); overflow-y: auto; max-height: 400px; }\n\n/* Progress */\nprogress { width: 100%; height: 8px; border-radius: 4px; overflow: hidden; appearance: none; }\nprogress::-webkit-progress-bar { background: var(--q-light); border-radius: 4px; }\nprogress::-webkit-progress-value { background: var(--q-primary); border-radius: 4px; }\n\n/* Header / Footer */\n.q-header { padding: 12px 16px; background: var(--q-dark); color: white; font-weight: 600; font-size: var(--q-font-lg); }\n.q-footer { padding: 12px 16px; background: var(--q-light); color: var(--q-secondary); border-top: 1px solid var(--q-border); font-size: var(--q-font-sm); }\n\n/* Scrollbox */\n.q-scrollbox { overflow: auto; }\n\n/* Accordion / Section */\ndetails.q-section { border: 1px solid var(--q-border); border-radius: var(--q-radius); margin-bottom: 4px; }\ndetails.q-section summary { padding: 10px 16px; cursor: pointer; font-weight: 500; }\ndetails.q-section .q-section-content { padding: 12px 16px; border-top: 1px solid var(--q-border); }\n\n/* Spacer */\n.q-spacer { flex: 1; }\n\n/* Select */\n.q-select { width: 100%; padding: 8px 12px; border: 1px solid var(--q-border); border-radius: var(--q-radius); outline: none; background: var(--q-bg); }\n.q-select:focus { border-color: var(--q-primary); }\n\n/* Menu */\n.q-menu { display: flex; gap: 4px; }\n.q-menu-item { padding: 8px 16px; cursor: pointer; border-radius: var(--q-radius); transition: background 0.15s; }\n.q-menu-item:hover { background: var(--q-light); }\n\n/* DividedBox */\n.q-dividedbox { display: flex; gap: 0; }\n.q-dividedbox-h { flex-direction: row; }\n.q-dividedbox-v { flex-direction: column; }\n.q-divider { background: var(--q-border); flex-shrink: 0; }\n.q-dividedbox-h > .q-divider { width: 4px; cursor: col-resize; }\n.q-dividedbox-v > .q-divider { height: 4px; cursor: row-resize; }\n\n/* Responsive Layout */\n.q-window > header, .q-window > .q-header { flex-shrink: 0; }\n.q-window > footer, .q-window > .q-footer { flex-shrink: 0; margin-top: auto; }\n.q-window > div:not(.q-header):not(.q-footer) { flex: 1; overflow: auto; }\n.q-panel { flex-shrink: 0; }\n\n/* Media Queries for smaller screens */\n@media (max-width: 900px) {\n  .q-window > div[style*="flex-direction: row"] { flex-direction: column !important; }\n  .q-window > div > div[style*="width: 280px"] { width: 100% !important; }\n  .q-window > div > div[style*="width: 50%"] { width: 100% !important; }\n}\n\n  </style>\n</head>\n<body>\n<div class="q-window">\n  <header class="q-header">\n    <div style="display: flex; flex-direction: row; padding: 8px; align-items: center; justify-content: space-between">\n      <div style="display: flex; flex-direction: row; gap: 12px; align-items: center">\n        <span style="font-size: var(--q-font-xl); font-weight: bold">\n          Task Manager Pro\n        </span>\n        <span class="q-badge q-badge-primary">\n          v2.0\n        </span>\n      </div>\n      <div style="display: flex; flex-direction: row; gap: 16px; align-items: center">\n        <button class="q-btn q-btn-secondary" onclick="__quantumCall(\'dismissNotifications\')">\n          Notificacoes (<span id="__qb_0">{notifications}</span>)\n        </button>\n        <span>\n          Ola, <span id="__qb_1">{username}</span>\n        </span>\n      </div>\n    </div>\n  </header>\n  <div style="display: flex; flex-direction: row; gap: 16px; padding: 16px">\n    <div style="display: flex; flex-direction: column; gap: 16px; width: 280px">\n      <div class="q-panel">\n        <div class="q-panel-title">\n          Estatisticas\n        </div>\n        <div style="display: flex; flex-direction: column; gap: 12px">\n          <div style="display: flex; flex-direction: row; justify-content: space-between">\n            <span>\n              Total de Tarefas:\n            </span>\n            <span style="font-weight: bold">\n              <span id="__qb_2">{taskCount}</span>\n            </span>\n          </div>\n          <div style="display: flex; flex-direction: row; justify-content: space-between">\n            <span>\n              Concluidas:\n            </span>\n            <span style="font-weight: bold">\n              <span id="__qb_3">{completedCount}</span>\n            </span>\n          </div>\n          <div style="display: flex; flex-direction: row; justify-content: space-between">\n            <span>\n              Pendentes:\n            </span>\n            <span style="font-weight: bold">\n              <span id="__qb_4">{taskCount}</span>\n            </span>\n          </div>\n          <hr />\n          <div style="display: flex; flex-direction: row; justify-content: space-between">\n            <span>\n              Filtro Atual:\n            </span>\n            <span class="q-badge q-badge-secondary">\n              {currentFilter}\n            </span>\n          </div>\n        </div>\n      </div>\n      <div class="q-panel">\n        <div class="q-panel-title">\n          Acoes Rapidas\n        </div>\n        <div style="display: flex; flex-direction: column; gap: 8px">\n          <button class="q-btn q-btn-primary" onclick="__quantumCall(\'addTask\')">\n            + Nova Tarefa\n          </button>\n          <button class="q-btn q-btn-success" onclick="__quantumCall(\'completeTask\')">\n            Marcar Concluida\n          </button>\n          <button class="q-btn q-btn-secondary" onclick="__quantumCall(\'clearCompleted\')">\n            Limpar Concluidas\n          </button>\n          <button class="q-btn q-btn-danger" onclick="__quantumCall(\'resetAll\')">\n            Resetar Tudo\n          </button>\n        </div>\n      </div>\n      <div class="q-panel">\n        <div class="q-panel-title">\n          Filtros\n        </div>\n        <div style="display: flex; flex-direction: column; gap: 8px">\n          <button class="q-btn" onclick="__quantumCall(\'filterAll\')">\n            Todas\n          </button>\n          <button class="q-btn" onclick="__quantumCall(\'filterActive\')">\n            Ativas\n          </button>\n          <button class="q-btn" onclick="__quantumCall(\'filterCompleted\')">\n            Concluidas\n          </button>\n        </div>\n      </div>\n    </div>\n    <div style="display: flex; flex-direction: column; gap: 16px; width: 100%">\n      <div class="q-tabs">\n        <div class="q-tab-headers">\n          <button class="q-tab-header active" data-tab="tabs-1-tab-0" data-tab-group="tabs-1">\n            Tarefas\n          </button>\n          <button class="q-tab-header" data-tab="tabs-1-tab-1" data-tab-group="tabs-1">\n            Calendario\n          </button>\n          <button class="q-tab-header" data-tab="tabs-1-tab-2" data-tab-group="tabs-1">\n            Relatorios\n          </button>\n          <button class="q-tab-header" data-tab="tabs-1-tab-3" data-tab-group="tabs-1">\n            Configuracoes\n          </button>\n        </div>\n        <div id="tabs-1-tab-0" class="q-tab-content active" data-tab-group="tabs-1">\n          <div style="display: flex; flex-direction: column; gap: 16px">\n            <div class="q-panel">\n              <div class="q-panel-title">\n                Adicionar Nova Tarefa\n              </div>\n              <form class="q-form" onsubmit="event.preventDefault();__quantumCall(\'addTask\',__quantumFormData(this))">\n                <div style="display: flex; flex-direction: row; gap: 12px; align-items: flex-end">\n                  <div style="display: flex; flex-direction: column; gap: 4px; width: 100%">\n                    <span style="font-size: var(--q-font-sm)">\n                      Titulo da Tarefa\n                    </span>\n                    <input class="q-input" type="text" placeholder="Digite o titulo..." name="taskTitle" oninput="__quantumCall(\'__set_state\',{name:\'taskTitle\',value:this.value})" />\n                  </div>\n                  <div style="display: flex; flex-direction: column; gap: 4px; width: 200px">\n                    <span style="font-size: var(--q-font-sm)">\n                      Prioridade\n                    </span>\n                    <select class="q-select" name="priority">\n                      <option value="Baixa">\n                        Baixa\n                      </option>\n                      <option value="Media">\n                        Media\n                      </option>\n                      <option value="Alta">\n                        Alta\n                      </option>\n                      <option value="Urgente">\n                        Urgente\n                      </option>\n                    </select>\n                  </div>\n                  <button class="q-btn q-btn-primary">\n                    Adicionar\n                  </button>\n                </div>\n              </form>\n            </div>\n            <div class="q-panel">\n              <div class="q-panel-title">\n                Lista de Tarefas\n              </div>\n              <div style="display: flex; flex-direction: column; gap: 8px">\n                <div style="display: flex; flex-direction: row; padding: 8px; align-items: center; justify-content: space-between; background-color: var(--q-light)">\n                  <label class="q-checkbox">\n                    <input type="checkbox" />\n                    Implementar autenticacao\n                  </label>\n                  <div style="display: flex; flex-direction: row; gap: 8px">\n                    <span class="q-badge q-badge-danger">\n                      Urgente\n                    </span>\n                    <button class="q-btn q-btn-success" onclick="__quantumCall(\'completeTask\')">\n                      Concluir\n                    </button>\n                  </div>\n                </div>\n                <div style="display: flex; flex-direction: row; padding: 8px; align-items: center; justify-content: space-between; background-color: var(--q-light)">\n                  <label class="q-checkbox">\n                    <input type="checkbox" />\n                    Criar documentacao da API\n                  </label>\n                  <div style="display: flex; flex-direction: row; gap: 8px">\n                    <span class="q-badge q-badge-warning">\n                      Alta\n                    </span>\n                    <button class="q-btn q-btn-success" onclick="__quantumCall(\'completeTask\')">\n                      Concluir\n                    </button>\n                  </div>\n                </div>\n                <div style="display: flex; flex-direction: row; padding: 8px; align-items: center; justify-content: space-between; background-color: var(--q-light)">\n                  <label class="q-checkbox">\n                    <input type="checkbox" />\n                    Revisar pull requests\n                  </label>\n                  <div style="display: flex; flex-direction: row; gap: 8px">\n                    <span class="q-badge q-badge-primary">\n                      Media\n                    </span>\n                    <button class="q-btn q-btn-success" onclick="__quantumCall(\'completeTask\')">\n                      Concluir\n                    </button>\n                  </div>\n                </div>\n                <div style="display: flex; flex-direction: row; padding: 8px; align-items: center; justify-content: space-between; background-color: var(--q-light)">\n                  <label class="q-checkbox">\n                    <input type="checkbox" />\n                    Atualizar dependencias\n                  </label>\n                  <div style="display: flex; flex-direction: row; gap: 8px">\n                    <span class="q-badge q-badge-secondary">\n                      Baixa\n                    </span>\n                    <button class="q-btn q-btn-success" onclick="__quantumCall(\'completeTask\')">\n                      Concluir\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id="tabs-1-tab-1" class="q-tab-content" data-tab-group="tabs-1">\n          <div class="q-panel">\n            <div class="q-panel-title">\n              Visao do Calendario\n            </div>\n            <div style="display: flex; flex-direction: column; gap: 16px; padding: 32px; align-items: center">\n              <span style="font-size: var(--q-font-xl)">\n                Calendario de Tarefas\n              </span>\n              <span>\n                Visualize suas tarefas por data\n              </span>\n              <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px">\n                <span style="font-weight: bold">\n                  Dom\n                </span>\n                <span style="font-weight: bold">\n                  Seg\n                </span>\n                <span style="font-weight: bold">\n                  Ter\n                </span>\n                <span style="font-weight: bold">\n                  Qua\n                </span>\n                <span style="font-weight: bold">\n                  Qui\n                </span>\n                <span style="font-weight: bold">\n                  Sex\n                </span>\n                <span style="font-weight: bold">\n                  Sab\n                </span>\n              </div>\n              <div class="q-loading">\n                <div class="q-spinner">\n                </div>\n                Carregando calendario...\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id="tabs-1-tab-2" class="q-tab-content" data-tab-group="tabs-1">\n          <div style="display: flex; flex-direction: row; gap: 16px">\n            <div class="q-panel" style="width: 50%">\n              <div class="q-panel-title">\n                Produtividade Semanal\n              </div>\n              <div style="display: flex; flex-direction: column; gap: 12px">\n                <div style="display: flex; flex-direction: row; justify-content: space-between">\n                  <span>\n                    Segunda\n                  </span>\n                  <progress value="80" max="100">\n                  </progress>\n                </div>\n                <div style="display: flex; flex-direction: row; justify-content: space-between">\n                  <span>\n                    Terca\n                  </span>\n                  <progress value="65" max="100">\n                  </progress>\n                </div>\n                <div style="display: flex; flex-direction: row; justify-content: space-between">\n                  <span>\n                    Quarta\n                  </span>\n                  <progress value="90" max="100">\n                  </progress>\n                </div>\n                <div style="display: flex; flex-direction: row; justify-content: space-between">\n                  <span>\n                    Quinta\n                  </span>\n                  <progress value="45" max="100">\n                  </progress>\n                </div>\n                <div style="display: flex; flex-direction: row; justify-content: space-between">\n                  <span>\n                    Sexta\n                  </span>\n                  <progress value="70" max="100">\n                  </progress>\n                </div>\n              </div>\n            </div>\n            <div class="q-panel" style="width: 50%">\n              <div class="q-panel-title">\n                Resumo por Prioridade\n              </div>\n              <div style="display: flex; flex-direction: column; gap: 12px">\n                <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">\n                  <div style="display: flex; flex-direction: row; gap: 8px; align-items: center">\n                    <span class="q-badge q-badge-danger">\n                      Urgente\n                    </span>\n                  </div>\n                  <span style="font-weight: bold">\n                    3 tarefas\n                  </span>\n                </div>\n                <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">\n                  <div style="display: flex; flex-direction: row; gap: 8px; align-items: center">\n                    <span class="q-badge q-badge-warning">\n                      Alta\n                    </span>\n                  </div>\n                  <span style="font-weight: bold">\n                    7 tarefas\n                  </span>\n                </div>\n                <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">\n                  <div style="display: flex; flex-direction: row; gap: 8px; align-items: center">\n                    <span class="q-badge q-badge-primary">\n                      Media\n                    </span>\n                  </div>\n                  <span style="font-weight: bold">\n                    12 tarefas\n                  </span>\n                </div>\n                <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">\n                  <div style="display: flex; flex-direction: row; gap: 8px; align-items: center">\n                    <span class="q-badge q-badge-secondary">\n                      Baixa\n                    </span>\n                  </div>\n                  <span style="font-weight: bold">\n                    5 tarefas\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id="tabs-1-tab-3" class="q-tab-content" data-tab-group="tabs-1">\n          <div style="display: flex; flex-direction: row; gap: 16px">\n            <div class="q-panel" style="width: 50%">\n              <div class="q-panel-title">\n                Perfil do Usuario\n              </div>\n              <form class="q-form" onsubmit="event.preventDefault();__quantumCall(\'saveSettings\',__quantumFormData(this))">\n                <div style="display: flex; flex-direction: column; gap: 16px">\n                  <div class="q-formitem">\n                    <label class="q-formitem-label">\n                      Nome\n                    </label>\n                    <input class="q-input" type="text" placeholder="Seu nome" name="username" oninput="__quantumCall(\'__set_state\',{name:\'username\',value:this.value})" />\n                  </div>\n                  <div class="q-formitem">\n                    <label class="q-formitem-label">\n                      Email\n                    </label>\n                    <input class="q-input" type="email" placeholder="seu@email.com" name="email" oninput="__quantumCall(\'__set_state\',{name:\'email\',value:this.value})" />\n                  </div>\n                  <div class="q-formitem">\n                    <label class="q-formitem-label">\n                      Fuso Horario\n                    </label>\n                    <select class="q-select" name="timezone">\n                      <option value="America/Sao_Paulo">\n                        America/Sao_Paulo\n                      </option>\n                      <option value="America/New_York">\n                        America/New_York\n                      </option>\n                      <option value="Europe/London">\n                        Europe/London\n                      </option>\n                      <option value="Asia/Tokyo">\n                        Asia/Tokyo\n                      </option>\n                    </select>\n                  </div>\n                  <div class="q-formitem">\n                    <label class="q-formitem-label">\n                      Idioma\n                    </label>\n                    <select class="q-select" name="language">\n                      <option value="Portugues">\n                        Portugues\n                      </option>\n                      <option value="English">\n                        English\n                      </option>\n                      <option value="Espanol">\n                        Espanol\n                      </option>\n                    </select>\n                  </div>\n                  <div style="display: flex; flex-direction: row; gap: 8px; justify-content: flex-end">\n                    <button class="q-btn q-btn-secondary">\n                      Cancelar\n                    </button>\n                    <button class="q-btn q-btn-primary">\n                      Salvar\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n            <div class="q-panel" style="width: 50%">\n              <div class="q-panel-title">\n                Preferencias\n              </div>\n              <div style="display: flex; flex-direction: column; gap: 16px">\n                <div class="q-formitem">\n                  <label class="q-formitem-label">\n                    Modo Escuro\n                  </label>\n                  <label class="q-switch">\n                    <input type="checkbox" name="darkMode" />\n                    <span class="q-switch-track">\n                      <span class="q-switch-thumb">\n                      </span>\n                    </span>\n                    Ativar tema escuro\n                  </label>\n                </div>\n                <div class="q-formitem">\n                  <label class="q-formitem-label">\n                    Notificacoes\n                  </label>\n                  <label class="q-switch">\n                    <input type="checkbox" name="notifications_enabled" />\n                    <span class="q-switch-track">\n                      <span class="q-switch-thumb">\n                      </span>\n                    </span>\n                    Receber notificacoes\n                  </label>\n                </div>\n                <div class="q-formitem">\n                  <label class="q-formitem-label">\n                    Som\n                  </label>\n                  <label class="q-switch">\n                    <input type="checkbox" name="sound_enabled" />\n                    <span class="q-switch-track">\n                      <span class="q-switch-thumb">\n                      </span>\n                    </span>\n                    Sons de notificacao\n                  </label>\n                </div>\n                <div class="q-formitem">\n                  <label class="q-formitem-label">\n                    Auto-save\n                  </label>\n                  <label class="q-switch">\n                    <input type="checkbox" name="autosave" />\n                    <span class="q-switch-track">\n                      <span class="q-switch-thumb">\n                      </span>\n                    </span>\n                    Salvar automaticamente\n                  </label>\n                </div>\n                <hr />\n                <span style="font-size: var(--q-font-sm); font-weight: bold">\n                  Dados\n                </span>\n                <div style="display: flex; flex-direction: row; gap: 8px">\n                  <button class="q-btn q-btn-secondary" onclick="__quantumCall(\'exportData\')">\n                    Exportar\n                  </button>\n                  <button class="q-btn q-btn-secondary" onclick="__quantumCall(\'importData\')">\n                    Importar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <footer class="q-footer">\n    <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">\n      <span>\n        Task Manager Pro - Quantum Framework\n      </span>\n      <div style="display: flex; flex-direction: row; gap: 16px">\n        <span>\n          Tarefas: <span id="__qb_5">{taskCount}</span>\n        </span>\n        <span>\n          Concluidas: <span id="__qb_6">{completedCount}</span>\n        </span>\n        <span>\n          Filtro: <span id="__qb_7">{currentFilter}</span>\n        </span>\n      </div>\n    </div>\n  </footer>\n</div>\n<!-- q:set taskCount = 0 -->\n<!-- q:set completedCount = 0 -->\n<!-- q:set currentFilter = all -->\n<!-- q:set darkMode = false -->\n<!-- q:set username = Usuario -->\n<!-- q:set notifications = 3 -->\n<script>\ndocument.querySelectorAll(\'.q-tab-header\').forEach(function(btn) {\n  btn.addEventListener(\'click\', function() {\n    var group = this.dataset.tabGroup;\n    var target = this.dataset.tab;\n    document.querySelectorAll(\'.q-tab-header[data-tab-group="\' + group + \'"]\').forEach(function(b) { b.classList.remove(\'active\'); });\n    document.querySelectorAll(\'.q-tab-content[data-tab-group="\' + group + \'"]\').forEach(function(c) { c.classList.remove(\'active\'); });\n    this.classList.add(\'active\');\n    document.getElementById(target).classList.add(\'active\');\n  });\n});\n</script>\n\n<script>\ndocument.addEventListener("DOMContentLoaded", function() {\n  __quantumBind(\'__qb_0\', \'notifications\', \'text\');\n  __quantumBind(\'__qb_1\', \'username\', \'text\');\n  __quantumBind(\'__qb_2\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_3\', \'completedCount\', \'text\');\n  __quantumBind(\'__qb_4\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_5\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_6\', \'completedCount\', \'text\');\n  __quantumBind(\'__qb_7\', \'currentFilter\', \'text\');\n});\n</script>\n<script>\n// Quantum Desktop Bridge\nwindow.__quantumState = {};\nwindow.__quantumBindings = {};\n\n// Called by Python when state changes\nwindow.__quantumStateUpdate = function(name, value) {\n    window.__quantumState[name] = value;\n    var bindings = window.__quantumBindings[name] || [];\n    bindings.forEach(function(b) {\n        if (b.type === \'text\') b.el.textContent = value;\n        else if (b.type === \'value\') b.el.value = value;\n        else if (b.type === \'html\') b.el.innerHTML = value;\n    });\n};\n\n// Register element to receive state updates\nwindow.__quantumBind = function(elId, stateName, type) {\n    var el = document.getElementById(elId);\n    if (!el) return;\n    if (!window.__quantumBindings[stateName]) {\n        window.__quantumBindings[stateName] = [];\n    }\n    window.__quantumBindings[stateName].push({el: el, type: type || \'text\'});\n};\n\n// Wrapper to call Python functions\nwindow.__quantumCall = async function(fn, args) {\n    if (window.pywebview && window.pywebview.api && window.pywebview.api[fn]) {\n        return await window.pywebview.api[fn](args || {});\n    } else {\n        console.warn(\'Quantum: API not ready or function not found:\', fn);\n    }\n};\n\n// Form data collector\nwindow.__quantumFormData = function(form) {\n    var data = {};\n    var formData = new FormData(form);\n    formData.forEach(function(value, key) {\n        data[key] = value;\n    });\n    return data;\n};\n</script>\n\n<script>\ndocument.addEventListener("DOMContentLoaded", function() {\n  __quantumBind(\'__qb_0\', \'notifications\', \'text\');\n  __quantumBind(\'__qb_1\', \'username\', \'text\');\n  __quantumBind(\'__qb_2\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_3\', \'completedCount\', \'text\');\n  __quantumBind(\'__qb_4\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_5\', \'taskCount\', \'text\');\n  __quantumBind(\'__qb_6\', \'completedCount\', \'text\');\n  __quantumBind(\'__qb_7\', \'currentFilter\', \'text\');\n});\n</script>\n</body>\n</html>\n'

    # Create API instance
    api = QuantumAPI()

    # Create window with API
    window = webview.create_window(
        title='TaskManager',
        html=html_content,
        width=1024,
        height=768,
        js_api=api,
    )

    # Set window reference after creation
    def on_loaded():
        api._set_window(window)

    window.events.loaded += on_loaded

    # Start the application
    webview.start()


if __name__ == "__main__":
    main()
