[
  {
    "description": "Query with empty result set",
    "code": "<q:query name=\"user\" datasource=\"app-db\">\n    SELECT * FROM users WHERE id = :id\n    <q:param name=\"id\" value=\"999999\" type=\"integer\" />\n</q:query>\n<q:if condition=\"{user_result.recordCount} == 0\">\n  <div>No user found</div>\n</q:if>",
    "expected_behavior": "Returns empty array, conditional displays 'No user found'",
    "use_case": "Handling queries that return no results"
  },
  {
    "description": "Query with NULL parameter value",
    "code": "<q:set name=\"optional_filter\" value=\"null\" />\n<q:query name=\"products\" datasource=\"app-db\">\n    SELECT * FROM products WHERE category IS :cat\n    <q:param name=\"cat\" value=\"{optional_filter}\" type=\"string\" null=\"true\" />\n</q:query>",
    "expected_behavior": "Handles NULL parameter correctly in WHERE clause",
    "use_case": "Optional filters that may be NULL"
  },
  {
    "description": "Query returning NULL values in columns",
    "code": "<q:query name=\"products\" datasource=\"app-db\">\n    SELECT id, name, description FROM products\n</q:query>\n<q:loop items=\"{products}\" var=\"product\">\n  <div>Name: {product.name}, Desc: {product.description || 'N/A'}</div>\n</q:loop>",
    "expected_behavior": "Safely handles NULL description column with fallback display",
    "use_case": "Displaying records with nullable columns"
  },
  {
    "description": "Query with boolean parameter",
    "code": "<q:set name=\"is_active\" value=\"true\" />\n<q:query name=\"activeUsers\" datasource=\"app-db\">\n    SELECT * FROM users WHERE active = :active\n    <q:param name=\"active\" value=\"{is_active}\" type=\"boolean\" />\n</q:query>",
    "expected_behavior": "Correctly binds boolean value for WHERE clause",
    "use_case": "Filtering by boolean flags"
  },
  {
    "description": "Query with datetime parameter",
    "code": "<q:set name=\"cutoff_date\" value=\"'2024-01-01'\" />\n<q:query name=\"recentOrders\" datasource=\"app-db\">\n    SELECT * FROM orders WHERE created_at >= :date\n    <q:param name=\"date\" value=\"{cutoff_date}\" type=\"datetime\" />\n</q:query>",
    "expected_behavior": "Binds datetime string parameter correctly for date comparison",
    "use_case": "Date-based filtering and reporting"
  },
  {
    "description": "Query with decimal/float parameter",
    "code": "<q:set name=\"min_price\" value=\"99.99\" />\n<q:query name=\"expensiveProducts\" datasource=\"app-db\">\n    SELECT * FROM products WHERE price >= :price\n    <q:param name=\"price\" value=\"{min_price}\" type=\"decimal\" />\n</q:query>",
    "expected_behavior": "Correctly handles decimal parameter binding for price comparison",
    "use_case": "Numeric range filtering with decimals"
  },
  {
    "description": "Query with array parameter for IN clause",
    "code": "<q:set name=\"category_ids\" value=\"[1, 2, 3]\" />\n<q:query name=\"filteredProducts\" datasource=\"app-db\">\n    SELECT * FROM products WHERE category_id IN :ids\n    <q:param name=\"ids\" value=\"{category_ids}\" type=\"array\" />\n</q:query>",
    "expected_behavior": "Expands array parameter for IN clause, returns products in specified categories",
    "use_case": "Multiple value filtering with IN operator"
  },
  {
    "description": "Query with zero as parameter value",
    "code": "<q:query name=\"freeProducts\" datasource=\"app-db\">\n    SELECT * FROM products WHERE price = :price\n    <q:param name=\"price\" value=\"0\" type=\"decimal\" />\n</q:query>",
    "expected_behavior": "Correctly treats 0 as valid parameter value, not as false/empty",
    "use_case": "Handling edge case of zero values in parameters"
  },
  {
    "description": "Query with very long string parameter",
    "code": "<q:set name=\"long_text\" value=\"'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.'\" />\n<q:query name=\"insertArticle\" datasource=\"app-db\">\n    INSERT INTO articles (content) VALUES (:text)\n    <q:param name=\"text\" value=\"{long_text}\" type=\"string\" />\n</q:query>",
    "expected_behavior": "Handles long text parameter without truncation",
    "use_case": "Storing long form content like articles or descriptions"
  },
  {
    "description": "Query with special characters in parameter",
    "code": "<q:set name=\"search_term\" value=\"'O\\'Brien &amp; Sons'\" />\n<q:query name=\"company\" datasource=\"app-db\">\n    SELECT * FROM companies WHERE name = :name\n    <q:param name=\"name\" value=\"{search_term}\" type=\"string\" />\n</q:query>",
    "expected_behavior": "Properly escapes special characters (apostrophe, ampersand) in parameter",
    "use_case": "Safe handling of user input with special characters"
  }
]
